{"version":3,"sources":["i18n.js","components/layout/AppDrawer/styles.js","components/layout/AppDrawer/PermanentDrawer.js","components/layout/AppDrawer/TemporaryDrawer.js","hooks/useDropdownMenu.js","components/layout/AppDrawer/common/LanguageSelector.js","slices/appSlice.js","components/layout/AppDrawer/common/ThemeSwitcher.js","hooks/useHomeDialog.js","components/layout/AppDrawer/HomeDrawerContent/Buttons.js","components/layout/AppDrawer/HomeDrawerContent/index.js","components/layout/AppDrawer/UserDrawerContent.js","hooks/useDrawer.js","components/layout/AppDrawer/index.js","components/layout/Navigation/styles.js","components/layout/Navigation/HomeNavigation.js","components/common/Dialog/styles.js","components/common/Dialog/DialogHeader.js","components/common/Dialog/index.js","apis/webInvoicerApi.js","apis/apiHandler.js","slices/userSlice.js","components/layout/Navigation/UserNavigation/UserDialog/styles.js","components/layout/Navigation/UserNavigation/UserDialog/DialogAlert.js","hooks/useValidation.js","components/common/ValidatorForm.js","components/common/SubmitButton/styles.js","components/common/SubmitButton/SubmitButton.js","components/common/Dialog/FormContent.js","components/common/Dialog/DialogTextField.js","components/common/Dialog/Password.js","components/common/Dialog/SuccessAlert.js","hooks/useResultSuccess.js","components/layout/Navigation/UserNavigation/UserDialog/ChangePasswordContent.js","hooks/useDidUpdateEffect.js","components/layout/Navigation/UserNavigation/UserDialog/CompanyDataContent.js","components/layout/Navigation/UserNavigation/UserDialog/index.js","hooks/useLogout.js","hooks/useDialog.js","hooks/useInterval.js","hooks/useTokenRefresh.js","components/layout/Navigation/UserNavigation/index.js","hooks/useTokenCheck.js","components/layout/Navigation/index.js","components/SuspenseLoading.js","components/common/PrivateRoute.js","components/pages/Home/styles.js","components/pages/Home/FeatureGrid.js","components/pages/Home/Footer.js","components/pages/Home/Hero.js","components/pages/Home/HomeDialog/styles.js","components/pages/Home/HomeDialog/DialogAlert.js","components/pages/Home/HomeDialog/DialogContent/common/Email.js","components/pages/Home/HomeDialog/DialogContent/styles.js","components/pages/Home/HomeDialog/DialogContent/Login.js","components/pages/Home/HomeDialog/DialogContent/Register.js","components/pages/Home/HomeDialog/DialogContent/ResetPassword.js","components/pages/Home/HomeDialog/DialogContent/ChangePassword.js","components/pages/Home/HomeDialog/DialogContent/ConfirmEmail.js","components/pages/Home/HomeDialog/index.js","components/pages/Home/index.js","components/common/ErrorDialog.js","components/pages/Invoices/Editor/LoadingBackdrop.js","components/pages/Invoices/Editor/Header.js","components/pages/Invoices/Editor/Content/Common/Input/EditorTextField.js","components/pages/Invoices/Editor/Content/Common/Input/Autocomplete.js","components/pages/Invoices/Editor/Content/Common/Input/DatePicker.js","components/pages/Invoices/Editor/Content/Common/Input/ClearButton.js","components/pages/Invoices/Editor/Content/Common/Details/fields.js","utils/editorUtils.js","pdfMake.js","pdf/headerElement.js","pdf/counterpartiesElement.js","pdf/itemsElement.js","pdf/summaryElement.js","pdf/footerElement.js","pdf/documentDefinition.js","utils/dataUtils.js","utils/invoiceUtils.js","slices/invoiceSlice.js","components/pages/Invoices/Editor/Content/Common/Details/actions.js","components/pages/Invoices/Editor/Content/Common/Details/index.js","components/pages/Invoices/Editor/Content/Common/Input/Button.js","utils/priceUtils.js","components/pages/Invoices/Editor/Content/Common/Items/styles.js","components/pages/Invoices/Editor/Content/Common/Items/Summary.js","hooks/useHandleAction.js","components/pages/Invoices/Editor/Content/Common/Items/actions.js","components/pages/Invoices/Editor/Content/Common/Input/Picker.js","components/pages/Invoices/Editor/Content/Common/Items/VatRatePicker.js","components/pages/Invoices/Editor/Content/Common/Items/fields.js","components/pages/Invoices/Editor/Content/Common/Items/useItems.js","components/pages/Invoices/Editor/Content/Common/Items/index.js","components/pages/Invoices/Editor/Content/Receipt.js","components/pages/Invoices/Editor/Content/Common/Counterparty/actions.js","components/pages/Invoices/Editor/Content/Common/Counterparty/fields.js","components/pages/Invoices/Editor/Content/Common/Counterparty/index.js","components/pages/Invoices/Editor/Content/Common/Payment/actions.js","components/pages/Invoices/Editor/Content/Common/Payment/index.js","components/pages/Invoices/Editor/Content/Invoice.js","components/pages/Invoices/Editor/Content/styles.js","components/pages/Invoices/Editor/Content/index.js","components/pages/Invoices/Editor/styles.js","components/pages/Invoices/Editor/Footer.js","components/pages/Invoices/Editor/useEditor.js","components/pages/Invoices/Editor/index.js","components/common/DataTable/config.js","components/common/DataTable/styles.js","components/common/DataTable/index.js","components/pages/Invoices/InvoiceTable/ActionMenu.js","components/pages/Invoices/InvoiceTable/CreateMenu.js","components/pages/Invoices/InvoiceTable/DeleteDialog.js","components/pages/Invoices/InvoiceTable/config.js","components/pages/Invoices/InvoiceTable/index.js","components/pages/NotFound.js","components/pages/Invoices/index.js","slices/productSlice.js","components/pages/Products/config.js","components/pages/Products/index.js","slices/counterpartySlice.js","components/pages/Counterparties/styles.js","components/pages/Counterparties/config.js","components/pages/Counterparties/index.js","slices/employeeSlice.js","components/pages/Employees/config.js","components/pages/Employees/index.js","components/pages/DataVisualization/index.js","components/Routes.js","App.js","store.js","index.js"],"names":["i18n","use","Backend","LanguageDetector","initReactI18next","init","fallbackLng","interpolation","escapeValue","backend","loadPath","useStyles","makeStyles","theme","drawer","width","drawerPaper","drawerHeader","padding","spacing","display","alignItems","justifyContent","mixins","toolbar","drawerHighlight","background","palette","primary","main","drawerHighlightText","color","getContrastText","PermanentDrawer","children","classes","variant","anchor","className","paper","Toolbar","TemporaryDrawer","open","onClose","IconButton","onClick","ChevronLeft","Divider","useDropdownMenu","useState","menuData","setMenuData","setAnchor","openMenu","event","data","currentTarget","closeMenu","LanguageSelector","useTranslation","t","languages","returnObjects","ListItem","button","ListItemIcon","Language","ListItemText","anchorEl","Boolean","map","language","index","MenuItem","key","selected","startsWith","code","languageCode","changeLanguage","label","initialState","localStorage","getItem","isDialogOpen","isDrawerOpen","appSlice","createSlice","name","reducers","setTheme","state","action","payload","setDialogOpen","setDrawerOpen","actions","ThemeSwitcher","dispatch","useDispatch","useSelector","app","newTheme","setItem","Brightness2","Brightness7","useHomeDialog","history","useHistory","openDialogForType","type","replace","openDialog","closeDialog","onExited","Buttons","Hidden","smUp","List","HomeDrawerContent","UserDrawerContent","closeDrawer","isDrawerPermanent","location","useLocation","drawerItems","isSelected","item","pathname","onItemClick","component","Link","to","Icon","icon","text","useDrawer","isLoggedIn","user","isLgUp","useMediaQuery","useTheme","breakpoints","up","openDrawer","AppDrawer","Drawer","DrawerContent","appBar","zIndex","appBarSpacer","marginRight","appBarLogo","appBarTitle","userSelect","flexGrow","HomeNavigation","xsDown","dialogTitle","centered","margin","textAlign","dialogCloseButton","position","top","right","secondary","successAlert","dialogActions","DialogHeader","title","closeButton","disableTypography","Typography","Close","Dialog","centeredTitle","content","props","DialogContent","DialogActions","Axios","create","baseURL","process","timeout","headers","Authorization","restCall","errorPayload","a","response","success","status","login","createAsyncThunk","handleAction","endpoint","errorData","token","JSON","stringify","userData","refreshToken","_","register","confirmEmail","confirmationData","resetPassword","email","changeResetPassword","changePassword","setCompanyData","setActionPending","apiHandler","webInvoicerApi","post","setError","Error","userSlice","actionPending","error","setUserData","extraReducers","fulfilled","dialogAlert","DialogAlert","displayedError","setDisplayedError","useEffect","setTimeout","Collapse","in","Alert","severity","useValidation","required","value","coercedValue","validator","isEmpty","ignore_whitespace","validate","validationType","isRequired","length","weights","isNumeric","sum","Array","from","forEach","char","Number","validNip","isInt","gt","allow_leading_zeroes","positiveInt","isCurrency","allow_negatives","digits_after_decimal","symbol","currency","isMobilePhone","phoneNumber","isPostalCode","postalCode","result","ValidatorForm","validatorRef","booleanResult","validationRules","rule","Form","addValidationRule","removeValidationRule","ref","wrapper","progress","left","marginTop","marginLeft","SubmitButton","loading","size","disabled","CircularProgress","FormContent","onSubmit","submitText","noValidate","DialogTextField","fullWidth","Password","passwordChange","validators","errorMessages","SuccessAlert","useResultSuccess","setSuccess","performAction","args","successCallback","handleError","then","unwrapResult","catch","e","ChangePasswordContent","password","newPassword","formData","setFormData","onTextChanged","target","preventDefault","autoFocus","onChange","useDidUpdateEffect","effect","deps","isFirstRun","useRef","current","CompanyDataContent","initialFormData","companyName","nip","address","city","equal","resetValidations","UserDialog","maxWidth","useLogout","removeItem","useDialog","setIsDialogOpen","dialogData","setDialogData","useInterval","callback","delay","savedCallback","id","setInterval","clearInterval","useTokenRefresh","tokenExpiryTime","JwtDecode","exp","calculateExpiryDelay","Date","getTime","expiryDelay","UserNavigation","logout","handleClick","edge","AccountCircle","fontSize","useTokenCheck","decodedToken","parse","Navigation","AppBar","Menu","SuspenseLoading","Backdrop","PrivateRoute","heroContainer","only","flexDirection","heroItem","marginBottom","heroIcon","featureCard","height","featureIcon","FeatureGrid","features","Grid","container","justify","feature","xs","sm","Card","CardContent","gutterBottom","header","description","Footer","Box","mb","mt","Hero","require","locationKey","Email","dialogText","dialogConfirmContainer","dialogProgress","Login","BrowserLink","Register","fullName","ResetPassword","setEmail","ChangePassword","setPassword","params","URLSearchParams","search","get","resetToken","ConfirmEmail","HomeDialog","substring","exact","path","Home","my","ErrorDialog","clearAction","DialogContentText","createErrors","includes","translationKey","getText","LoadingBackdrop","setOpen","clearTimeout","transitionDuration","Header","headerText","split","EditorTextField","Autocomplete","textProps","filterOptions","createFilterOptions","limit","freeSolo","renderInput","locales","en","enLocale","pl","plLocale","DatePicker","minDate","utils","DateFnsUtils","locale","disablePast","inputVariant","format","date","toISOString","ClearButton","ml","Delete","useFields","update","select","editorData","employees","invoice","employeeData","employee","parsableDate","getAutocomplete","property","options","getOptionLabel","reason","inputValue","number","FullName","PhoneNumber","Clear","initialEditorData","counterparty","items","paymentType","paymentDeadline","getType","invoiceTypes","findIndex","x","getId","isEqual","month","getMonth","pdfMake","vfs","pdfFonts","getHeaderElement","paymentTypes","style","layout","table","body","getCounterpartiesElement","companyData","hLineWidth","vLineWidth","columns","headerRows","widths","getItems","vatRateStrings","unit","count","netPrice","grossPrice","vatRate","netValue","grossValue","vatValue","toFixed","getItemsElement","pdfItems","fillColor","rowIndex","getSummaryItems","vatRates","reduce","prev","sort","b","getPropertyTotal","curr","getSummaryElement","netTotal","grossTotal","vatTotal","summaryItems","bold","keepWithHeaderRows","getFooterElement","currentPage","pageCount","alignment","border","getDocumentDefinition","footer","pageMargins","defaultStyle","styles","counterpartiesHeader","summary","filterProperties","oldData","newData","filteredKeys","Object","keys","filter","useInvoicePayloadCreators","getPayload","method","counterparties","invoices","employeeId","counterpartyId","rest","find","getEmployeeId","getCounterpartyId","addNewItems","invoiceId","editorId","productData","productId","updateItems","oldItems","newItems","undefined","itemId","newItemIndex","newItem","extractItem","updateData","put","delete","extractInvoice","createPayload","invoiceData","updatePayload","oldInvoice","oldInvoiceData","exportPayload","mappedItems","push","createPdf","bind","download","counterpartyData","oldEditorData","createInvoice","handlePayloadCreator","getInvoices","updateInvoice","deleteInvoice","exportInvoice","getState","getProducts","getInvoiceItems","product","nanoid","payloadCreator","message","invoiceSlice","setEditorData","setOldEditorData","addItem","updateItem","deleteItem","splice","useActions","initialize","setDates","getNewDateProps","invoiceDate","padStart","year","getNumber","add","days","isEmployee","Details","fields","Button","calculateGrossPrice","roundValue","getVatRate","calculateNetPrice","isNaN","Math","round","bottomContainer","flexWrap","addButton","summaryContainer","Summary","Paper","useHandleAction","onSuccess","rejectOnError","editorItems","valueAsNumber","remove","selectedItem","Picker","TextField","VatRatePicker","rate","products","onPriceChange","fieldName","calculatedValue","calculatedFieldName","onVatRateChange","Name","renderOption","Description","Count","Unit","NetPrice","GrossPrice","VatRate","mr","useItems","getFields","itemRows","Items","xl","md","Receipt","lg","Nip","Address","PostalCode","City","Counterparty","Payment","Invoice","contentContainer","Content","getRender","render","backdrop","paddingLeft","editorContainer","footerDivider","footerContainer","useEditor","onErrorDialogClose","Editor","useConfig","editableConfig","getIcon","Component","iconProps","forwardRef","icons","Add","AddCircle","Check","Edit","ResetSearch","localization","emptyDataSourceMessage","addTooltip","deleteTooltip","editTooltip","filterRow","filterTooltip","editRow","deleteText","cancelTooltip","saveTooltip","pagination","labelDisplayedRows","labelRowsSelect","labelRowsPerPage","firstAriaLabel","firstTooltip","previousAriaLabel","previousTooltip","nextAriaLabel","nextTooltip","lastAriaLabel","lastTooltip","nRowsSelected","searchTooltip","searchPlaceholder","editable","createAction","updateAction","deleteAction","onRowAdd","newRow","onRowUpdate","oldRow","onRowDelete","deletedRow","searchFieldVariant","addRowPosition","tableLayout","draggable","tableContainer","DataTable","ActionMenu","openDeleteDialog","editLink","tableData","CreateMenu","option","DeleteDialog","dialog","createMenu","actionMenu","currencySettings","align","currencySetting","currencyCode","field","tooltip","isFreeAction","MoreHoriz","rowData","InvoiceTable","isLoading","NotFound","Invoices","createProduct","updateProduct","deleteProduct","productSlice","editComponent","currencyEditComponent","onRowDataChange","parsedValue","row","initialEditValue","lookup","0","1","2","3","4","5","Products","createCounterparty","getCounterpartyDetails","getCounterparties","updateCounterparty","deleteCounterparty","counterpartySlice","nipEditContainer","nipEditButton","downloadDetails","street","propertyNumber","apartmentNumber","CloudDownload","Counterparties","createEmployee","getEmployees","updateEmployee","deleteEmployee","employeeSlice","Employees","DataVisualization","Routes","App","muiTheme","createMuiTheme","lightTheme","darkTheme","ThemeProvider","CssBaseline","fallback","Container","combinedReducer","combineReducers","appReducer","userReducer","invoiceReducer","counterpartyReducer","employeeReducer","productReducer","configureStore","reducer","ReactDOM","StrictMode","store","document","getElementById"],"mappings":"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","file":"static/js/main.3e82088a.chunk.js","sourcesContent":["import i18n from 'i18next';\r\nimport { initReactI18next } from 'react-i18next';\r\nimport Backend from 'i18next-http-backend';\r\nimport LanguageDetector from 'i18next-browser-languagedetector';\r\n\r\ni18n\r\n  .use(Backend)\r\n  .use(LanguageDetector)\r\n  .use(initReactI18next)\r\n  .init({\r\n    fallbackLng: 'en',\r\n    interpolation: {\r\n      escapeValue: false\r\n    },\r\n    backend: {\r\n      loadPath: '/locales/{{lng}}/{{ns}}.json'\r\n    }\r\n  });\r\n\r\nexport default i18n;\r\n","import { makeStyles } from '@material-ui/core';\n\nconst useStyles = makeStyles(theme => ({\n  drawer: {\n    width: 250\n  },\n  drawerPaper: {\n    width: 250\n  },\n  drawerHeader: {\n    width: 250,\n    padding: theme.spacing(0, 1),\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'flex-end',\n    ...theme.mixins.toolbar\n  },\n  drawerHighlight: {\n    background: theme.palette.primary.main,\n    '&:hover': {\n      background: theme.palette.primary.main\n    }\n  },\n  drawerHighlightText: {\n    color: theme.palette.getContrastText(theme.palette.primary.main)\n  }\n}));\n\nexport default useStyles;\n","import React from 'react';\nimport { Drawer, Toolbar } from '@material-ui/core';\nimport useStyles from './styles';\n\nconst PermanentDrawer = ({ children }) => {\n  const classes = useStyles();\n\n  return (\n    <Drawer\n      variant='permanent'\n      anchor='left'\n      className={classes.drawer}\n      classes={{ paper: classes.drawerPaper }}>\n      <Toolbar />\n      {children}\n    </Drawer>\n  );\n};\n\nexport default PermanentDrawer;\n","import React from 'react';\nimport { Divider, Drawer, IconButton } from '@material-ui/core';\nimport { ChevronLeft } from '@material-ui/icons';\nimport useStyles from './styles';\n\nconst TemporaryDrawer = ({ open, onClose, children }) => {\n  const classes = useStyles();\n\n  return (\n    <Drawer anchor='left' open={open} onClose={onClose}>\n      <div className={classes.drawerHeader}>\n        <IconButton onClick={onClose}>\n          <ChevronLeft />\n        </IconButton>\n      </div>\n      <Divider />\n      {children}\n    </Drawer>\n  );\n};\n\nexport default TemporaryDrawer;\n","import { useState } from 'react';\n\nconst useDropdownMenu = () => {\n  const [menuData, setMenuData] = useState(null);\n\n  const [anchor, setAnchor] = useState(null);\n\n  const openMenu = (event, data) => {\n    setAnchor(event.currentTarget);\n    data && setMenuData(data);\n  };\n\n  const closeMenu = () => setAnchor(null);\n\n  return { anchor, menuData, openMenu, closeMenu };\n};\n\nexport default useDropdownMenu;\n","import React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { ListItem, ListItemIcon, ListItemText, Menu, MenuItem } from '@material-ui/core';\nimport { Language } from '@material-ui/icons';\nimport useDropdownMenu from '../../../../hooks/useDropdownMenu';\n\nconst LanguageSelector = () => {\n  const { t, i18n } = useTranslation();\n\n  const languages = t('languages', { returnObjects: true });\n\n  const { anchor, openMenu, closeMenu } = useDropdownMenu();\n\n  const handleLanguageChange = languageCode => () => {\n    if (languageCode !== i18n.language) i18n.changeLanguage(languageCode);\n    closeMenu();\n  };\n\n  return (\n    <>\n      <ListItem button onClick={openMenu}>\n        <ListItemIcon>\n          <Language />\n        </ListItemIcon>\n        <ListItemText primary={t('drawer.language')} />\n      </ListItem>\n      <Menu anchorEl={anchor} open={Boolean(anchor)} onClose={closeMenu}>\n        {languages.map((language, index) => (\n          <MenuItem\n            key={index}\n            selected={i18n.language.startsWith(language.code)}\n            onClick={handleLanguageChange(language.code)}>\n            {language.label}\n          </MenuItem>\n        ))}\n      </Menu>\n    </>\n  );\n};\n\nexport default LanguageSelector;\n","import { createSlice } from '@reduxjs/toolkit';\n\nconst initialState = {\n  theme: localStorage.getItem('theme') || 'dark',\n  isDialogOpen: false,\n  isDrawerOpen: false\n};\n\nconst appSlice = createSlice({\n  name: 'app',\n  initialState,\n  reducers: {\n    setTheme(state, action) {\n      state.theme = action.payload;\n    },\n    setDialogOpen(state, action) {\n      state.isDialogOpen = action.payload;\n    },\n    setDrawerOpen(state, action) {\n      state.isDrawerOpen = action.payload;\n    }\n  }\n});\n\nexport const { setTheme, setDialogOpen, setDrawerOpen } = appSlice.actions;\n\nexport default appSlice.reducer;\n","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport { ListItem, ListItemIcon, ListItemText } from '@material-ui/core';\nimport { Brightness2, Brightness7 } from '@material-ui/icons';\nimport { setTheme } from '../../../../slices/appSlice';\n\nconst ThemeSwitcher = () => {\n  const { t } = useTranslation();\n\n  const dispatch = useDispatch();\n\n  const theme = useSelector(state => state.app.theme);\n\n  const changeTheme = () => {\n    const newTheme = theme === 'light' ? 'dark' : 'light';\n    localStorage.setItem('theme', newTheme);\n    dispatch(setTheme(newTheme));\n  };\n\n  return (\n    <ListItem button onClick={changeTheme}>\n      <ListItemIcon>{theme === 'dark' ? <Brightness2 /> : <Brightness7 />}</ListItemIcon>\n      <ListItemText primary={t('drawer.theme')} />\n    </ListItem>\n  );\n};\n\nexport default ThemeSwitcher;\n","import { useDispatch, useSelector } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport { setDialogOpen } from '../slices/appSlice';\n\nconst useHomeDialog = () => {\n  const dispatch = useDispatch();\n\n  const isDialogOpen = useSelector(state => state.app.isDialogOpen);\n\n  const history = useHistory();\n\n  const openDialog = () => dispatch(setDialogOpen(true));\n\n  const closeDialog = () => dispatch(setDialogOpen(false));\n\n  const openDialogForType = type => {\n    history.replace(`/${type}`);\n    dispatch(setDialogOpen(true));\n  };\n\n  const onExited = () => history.replace('/');\n\n  return { openDialogForType, openDialog, closeDialog, onExited, isDialogOpen };\n};\n\nexport default useHomeDialog;\n","import React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Divider, Hidden, List, ListItem, ListItemText } from '@material-ui/core';\nimport useHomeDialog from '../../../../hooks/useHomeDialog';\nimport useStyles from '../styles';\n\nconst Buttons = () => {\n  const { t } = useTranslation();\n\n  const { openDialogForType } = useHomeDialog();\n\n  const classes = useStyles();\n\n  return (\n    <Hidden smUp>\n      <Divider />\n      <List>\n        <ListItem button onClick={() => openDialogForType('login')}>\n          <ListItemText primary={t('signIn')} />\n        </ListItem>\n        <ListItem\n          button\n          onClick={() => openDialogForType('register')}\n          className={classes.drawerHighlight}>\n          <ListItemText primary={t('signUp')} className={classes.drawerHighlightText} />\n        </ListItem>\n      </List>\n    </Hidden>\n  );\n};\n\nexport default Buttons;\n","import React from 'react';\nimport { List } from '@material-ui/core';\nimport LanguageSelector from '../common/LanguageSelector';\nimport ThemeSwitcher from '../common/ThemeSwitcher';\nimport Buttons from './Buttons';\n\nconst HomeDrawerContent = () => {\n  return (\n    <>\n      <List>\n        <LanguageSelector />\n        <ThemeSwitcher />\n      </List>\n      <Buttons />\n    </>\n  );\n};\n\nexport default HomeDrawerContent;\n","import React from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next';\nimport { Divider, Icon, List, ListItem, ListItemIcon, ListItemText } from '@material-ui/core';\nimport LanguageSelector from './common/LanguageSelector';\nimport ThemeSwitcher from './common/ThemeSwitcher';\n\nconst UserDrawerContent = ({ closeDrawer, isDrawerPermanent }) => {\n  const { t } = useTranslation();\n\n  const location = useLocation();\n\n  const drawerItems = t('drawer.user', { returnObjects: true });\n\n  const isSelected = item =>\n    location.pathname === item.pathname || location.pathname.startsWith(`${item.pathname}/`);\n\n  const onItemClick = () => !isDrawerPermanent && closeDrawer();\n\n  return (\n    <>\n      <List>\n        {drawerItems.map((item, index) => (\n          <ListItem\n            button\n            key={index}\n            component={Link}\n            to={item.pathname}\n            replace={location.pathname === item.pathname}\n            selected={isSelected(item)}\n            onClick={onItemClick}>\n            <ListItemIcon>\n              <Icon>{item.icon}</Icon>\n            </ListItemIcon>\n            <ListItemText primary={item.text} />\n          </ListItem>\n        ))}\n      </List>\n      <Divider />\n      <List>\n        <LanguageSelector />\n        <ThemeSwitcher />\n      </List>\n    </>\n  );\n};\n\nexport default UserDrawerContent;\n","import { useDispatch, useSelector } from 'react-redux';\nimport { useMediaQuery, useTheme } from '@material-ui/core';\nimport { setDrawerOpen } from '../slices/appSlice';\n\nconst useDrawer = () => {\n  const dispatch = useDispatch();\n\n  const isDrawerOpen = useSelector(state => state.app.isDrawerOpen);\n\n  const isLoggedIn = useSelector(state => state.user.isLoggedIn);\n\n  const isLgUp = useMediaQuery(useTheme().breakpoints.up('lg'));\n\n  const openDrawer = () => dispatch(setDrawerOpen(true));\n\n  const closeDrawer = () => dispatch(setDrawerOpen(false));\n\n  const isDrawerPermanent = isLoggedIn && isLgUp;\n\n  return { openDrawer, closeDrawer, isDrawerOpen, isDrawerPermanent };\n};\n\nexport default useDrawer;\n","import React from 'react';\nimport PermanentDrawer from './PermanentDrawer';\nimport TemporaryDrawer from './TemporaryDrawer';\nimport HomeDrawerContent from './HomeDrawerContent';\nimport UserDrawerContent from './UserDrawerContent';\nimport useDrawer from '../../../hooks/useDrawer';\n\nconst AppDrawer = ({ isLoggedIn }) => {\n  const { closeDrawer, isDrawerOpen, isDrawerPermanent } = useDrawer();\n\n  const Drawer = isDrawerPermanent ? PermanentDrawer : TemporaryDrawer;\n\n  const DrawerContent = isLoggedIn ? UserDrawerContent : HomeDrawerContent;\n\n  return (\n    <Drawer open={isDrawerOpen} onClose={closeDrawer}>\n      <DrawerContent closeDrawer={closeDrawer} isDrawerPermanent={isDrawerPermanent} />\n    </Drawer>\n  );\n};\n\nexport default AppDrawer;\n","import { makeStyles } from '@material-ui/core';\n\nconst useStyles = makeStyles(theme => ({\n  appBar: {\n    zIndex: theme.zIndex.drawer + 1\n  },\n  appBarSpacer: {\n    marginRight: theme.spacing(1)\n  },\n  appBarLogo: {\n    marginRight: 4\n  },\n  appBarTitle: {\n    userSelect: 'none',\n    flexGrow: 1\n  }\n}));\n\nexport default useStyles;\n","import React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Button, Hidden } from '@material-ui/core';\nimport useHomeDialog from '../../../hooks/useHomeDialog';\nimport useStyles from './styles';\n\nconst HomeNavigation = () => {\n  const { t } = useTranslation();\n\n  const { openDialogForType } = useHomeDialog();\n\n  const classes = useStyles();\n\n  return (\n    <Hidden xsDown>\n      <Button\n        color='inherit'\n        onClick={() => openDialogForType('login')}\n        className={classes.appBarSpacer}>\n        {t('signIn')}\n      </Button>\n      <Button variant='outlined' color='inherit' onClick={() => openDialogForType('register')}>\n        {t('signUp')}\n      </Button>\n    </Hidden>\n  );\n};\n\nexport default HomeNavigation;\n","import { makeStyles } from '@material-ui/core';\n\nconst useStyles = makeStyles(theme => ({\n  dialogTitle: ({ centered }) => ({\n    margin: 0,\n    padding: centered ? theme.spacing(2, 8, 0) : theme.spacing(2, 8, 2, 3),\n    textAlign: centered ? 'center' : 'initial'\n  }),\n  dialogCloseButton: {\n    position: 'absolute',\n    top: theme.spacing(1),\n    right: theme.spacing(1),\n    color: theme.palette.text.secondary\n  },\n  successAlert: {\n    margin: theme.spacing(3, 3, 0)\n  },\n  dialogActions: {\n    padding: theme.spacing(2, 3),\n    justifyContent: 'center'\n  }\n}));\n\nexport default useStyles;\n","import React from 'react';\nimport MuiDialogTitle from '@material-ui/core/DialogTitle';\nimport { IconButton, Typography } from '@material-ui/core';\nimport { Close } from '@material-ui/icons';\nimport useStyles from './styles';\n\nconst DialogHeader = ({ title, onClose, centered, closeButton }) => {\n  const classes = useStyles({ centered: centered });\n\n  return (\n    <MuiDialogTitle disableTypography className={classes.dialogTitle}>\n      <Typography variant='h6'>{title}</Typography>\n      {closeButton && (\n        <IconButton className={classes.dialogCloseButton} onClick={onClose}>\n          <Close />\n        </IconButton>\n      )}\n    </MuiDialogTitle>\n  );\n};\n\nexport default DialogHeader;\n","import React from 'react';\nimport { Dialog as MaterialDialog, DialogActions, DialogContent } from '@material-ui/core';\nimport DialogHeader from './DialogHeader';\n\nconst Dialog = ({\n  open,\n  onClose,\n  title,\n  centeredTitle = false,\n  closeButton = false,\n  content,\n  actions,\n  children,\n  ...props\n}) => {\n  return (\n    <MaterialDialog open={open} onClose={onClose} {...props}>\n      <DialogHeader\n        title={title}\n        onClose={onClose}\n        centered={centeredTitle}\n        closeButton={closeButton}\n      />\n      {content && <DialogContent>{content}</DialogContent>}\n      {actions && <DialogActions>{actions}</DialogActions>}\n      {children}\n    </MaterialDialog>\n  );\n};\n\nexport default Dialog;\n","import Axios from 'axios';\n\nexport default () =>\n  Axios.create({\n    baseURL: process.env.REACT_APP_API_URL,\n    timeout: 10000,\n    headers: localStorage.getItem('token')\n      ? { Authorization: 'Bearer ' + localStorage.getItem('token') }\n      : {}\n  });\n","export default async (restCall, errorPayload) => {\n  let response;\n  try {\n    response = await restCall;\n  } catch (e) {\n    response = null;\n  }\n\n  const success = response && response.status >= 200 && response.status < 300;\n  return success ? response : { type: 'ERROR', data: errorPayload };\n};\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport webInvoicerApi from '../apis/webInvoicerApi';\nimport apiHandler from '../apis/apiHandler';\nimport { setDrawerOpen } from './appSlice';\n\nconst initialState = {\n  actionPending: false,\n  error: null,\n  userData: null,\n  isLoggedIn: false\n};\n\nexport const login = createAsyncThunk('user/login', async (user, { dispatch }) => {\n  const response = await handleAction(\n    { endpoint: 'users/authenticate', payload: user, errorData: 'login' },\n    dispatch\n  );\n\n  dispatch(setDrawerOpen(false));\n  localStorage.setItem('token', response.token);\n  localStorage.setItem('userData', JSON.stringify(response.userData));\n  return response;\n});\n\nexport const refreshToken = createAsyncThunk('user/refreshToken', async (_, { dispatch }) => {\n  const response = await handleAction(\n    { endpoint: 'users/refreshToken', errorData: 'refreshToken' },\n    dispatch\n  );\n\n  localStorage.setItem('token', response);\n  return response;\n});\n\nexport const register = createAsyncThunk('user/register', async (user, { dispatch }) => {\n  return await handleAction(\n    { endpoint: 'users/register', payload: user, errorData: 'register' },\n    dispatch\n  );\n});\n\nexport const confirmEmail = createAsyncThunk(\n  'user/confirmEmail',\n  async (confirmationData, { dispatch }) => {\n    return await handleAction(\n      { endpoint: 'users/confirm', payload: confirmationData, errorData: 'confirmEmail' },\n      dispatch\n    );\n  }\n);\n\nexport const resetPassword = createAsyncThunk('user/resetPassword', async (email, { dispatch }) => {\n  return await handleAction(\n    { endpoint: 'users/resetPassword', payload: { email: email }, errorData: 'resetPassword' },\n    dispatch\n  );\n});\n\nexport const changeResetPassword = createAsyncThunk(\n  'user/changeResetPassword',\n  async (data, { dispatch }) => {\n    return await handleAction(\n      { endpoint: 'users/changeResetPassword', payload: data, errorData: 'changePassword' },\n      dispatch\n    );\n  }\n);\n\nexport const changePassword = createAsyncThunk(\n  'user/changePassword',\n  async (data, { dispatch }) => {\n    return await handleAction(\n      { endpoint: 'users/changePassword', payload: data, errorData: 'changePassword' },\n      dispatch\n    );\n  }\n);\n\nexport const setCompanyData = createAsyncThunk(\n  'user/setCompanyData',\n  async (data, { dispatch }) => {\n    return await handleAction(\n      { endpoint: 'users/setCompanyDetails', payload: data, errorData: 'setCompanyData' },\n      dispatch\n    );\n  }\n);\n\nconst handleAction = async ({ endpoint, payload, errorData }, dispatch) => {\n  dispatch(setActionPending(true));\n  const response = await apiHandler(webInvoicerApi().post(endpoint, payload), errorData);\n  dispatch(setActionPending(false));\n\n  if (response.type === 'ERROR') {\n    dispatch(setError(response.data));\n    throw new Error(response.data);\n  }\n  return response.data;\n};\n\nconst userSlice = createSlice({\n  name: 'user',\n  initialState,\n  reducers: {\n    setActionPending(state, action) {\n      state.actionPending = action.payload;\n    },\n    setError(state, action) {\n      state.error = action.payload;\n    },\n    setUserData(state, action) {\n      state.userData = action.payload;\n      state.isLoggedIn = true;\n    }\n  },\n  extraReducers: {\n    [login.fulfilled]: (state, action) => {\n      state.userData = action.payload.userData;\n      state.isLoggedIn = true;\n    }\n  }\n});\n\nexport const { setActionPending, setError, setUserData } = userSlice.actions;\n\nexport default userSlice.reducer;\n","import { makeStyles } from '@material-ui/core';\n\nconst useStyles = makeStyles(theme => ({\n  dialogAlert: {\n    margin: theme.spacing(3, 3, 0)\n  }\n}));\n\nexport default useStyles;\n","import React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport { Collapse } from '@material-ui/core';\nimport Alert from '@material-ui/lab/Alert';\nimport { setError } from '../../../../../slices/userSlice';\nimport useStyles from './styles';\n\nconst DialogAlert = () => {\n  const [displayedError, setDisplayedError] = useState('');\n\n  const { t } = useTranslation();\n\n  const dispatch = useDispatch();\n\n  const error = useSelector(state => state.user.error);\n\n  const classes = useStyles();\n\n  useEffect(() => {\n    if (error) {\n      setDisplayedError(error);\n      setTimeout(() => {\n        dispatch(setError(null));\n      }, 5000);\n    }\n  }, [error, dispatch]);\n\n  useEffect(() => {\n    return () => dispatch(setError(null));\n    // eslint-disable-next-line\n  }, []);\n\n  return (\n    <Collapse in={Boolean(error)}>\n      <Alert variant='outlined' severity='error' className={classes.dialogAlert}>\n        {displayedError && t(`user.error.${displayedError}`)}\n      </Alert>\n    </Collapse>\n  );\n};\n\nexport default DialogAlert;\n","import { useTranslation } from 'react-i18next';\nimport validator from 'validator';\n\nconst useValidation = () => {\n  const { t } = useTranslation();\n\n  const validNip = value => {\n    const weights = [6, 5, 7, 2, 3, 4, 5, 6, 7, 0];\n\n    if (value.length !== 10 || !validator.isNumeric(value)) return false;\n\n    let sum = 0;\n    Array.from(value).forEach((char, index) => (sum += Number(char) * weights[index]));\n    return sum % 11 === Number(value[9]);\n  };\n\n  const positiveInt = value => {\n    return validator.isInt(value, { gt: 0, allow_leading_zeroes: false });\n  };\n\n  const currency = value => {\n    return (\n      Number(value) > 0 &&\n      validator.isCurrency(value, {\n        allow_negatives: false,\n        digits_after_decimal: [1, 2],\n        symbol: ''\n      })\n    );\n  };\n\n  const phoneNumber = value => {\n    return validator.isMobilePhone(value, ['pl-PL']);\n  };\n\n  const postalCode = value => {\n    return validator.isPostalCode(value, ['PL']);\n  };\n\n  const required = value => {\n    const coercedValue = value + '';\n    const isInvalid = !value || validator.isEmpty(coercedValue, { ignore_whitespace: true });\n\n    return isInvalid ? t('validation.required') : true;\n  };\n\n  const validate = (validationType, value, isRequired) => {\n    const coercedValue = value + '';\n    if (!isRequired && (!value || coercedValue.length === 0)) return true;\n\n    const result = () => {\n      switch (validationType) {\n        case 'validNip':\n          return validNip(coercedValue);\n        case 'positiveInt':\n          return positiveInt(coercedValue);\n        case 'currency':\n          return currency(coercedValue);\n        case 'phoneNumber':\n          return phoneNumber(coercedValue);\n        case 'postalCode':\n          return postalCode(coercedValue);\n        default:\n          throw new Error('Validation type not supported!');\n      }\n    };\n\n    return result() ? true : t(`validation.${validationType}`);\n  };\n\n  return { required, validate };\n};\n\nexport default useValidation;\n","import React, { useEffect } from 'react';\nimport { ValidatorForm as Form } from 'react-material-ui-form-validator';\nimport useValidation from '../../hooks/useValidation';\n\nconst ValidatorForm = ({ children, validatorRef, ...props }) => {\n  const { validate } = useValidation();\n\n  const booleanResult = result => (result === true ? true : false);\n\n  const validationRules = [\n    { name: 'validNip', validator: value => booleanResult(validate('validNip', value, true)) },\n    { name: 'positiveInt', validator: value => booleanResult(validate('positiveInt', value, true)) },\n    { name: 'currency', validator: value => booleanResult(validate('currency', value, true)) },\n    { name: 'phoneNumber', validator: value => booleanResult(validate('phoneNumber', value, true)) },\n    { name: 'postalCode', validator: value => booleanResult(validate('postalCode', value, true)) }\n  ];\n\n  useEffect(() => {\n    validationRules.forEach(rule => Form.addValidationRule(rule.name, rule.validator));\n    return () => validationRules.forEach(rule => Form.removeValidationRule(rule.name));\n    // eslint-disable-next-line\n  }, []);\n\n  return (\n    <Form {...props} ref={validatorRef}>\n      {children}\n    </Form>\n  );\n};\n\nexport default ValidatorForm;\n","import { makeStyles } from '@material-ui/core';\n\nconst useStyles = makeStyles(() => ({\n  wrapper: {\n    position: 'relative'\n  },\n  progress: {\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    marginTop: -12,\n    marginLeft: -12\n  }\n}));\n\nexport default useStyles;\n","import React from 'react';\nimport { Button, CircularProgress } from '@material-ui/core';\nimport useStyles from './styles';\n\nconst SubmitButton = ({ text, loading }) => {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.wrapper}>\n      <Button variant='contained' color='primary' size='large' type='submit' disabled={loading}>\n        {text}\n      </Button>\n      {loading && <CircularProgress size={24} className={classes.progress} />}\n    </div>\n  );\n};\n\nexport default SubmitButton;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { DialogActions, DialogContent } from '@material-ui/core';\nimport ValidatorForm from '../ValidatorForm';\nimport SubmitButton from '../SubmitButton/SubmitButton';\nimport useStyles from './styles';\n\nconst FormContent = ({ onSubmit, children, submitText, validatorRef }) => {\n  const classes = useStyles();\n\n  const loading = useSelector(state => state.user.actionPending);\n\n  return (\n    <ValidatorForm onSubmit={onSubmit} validatorRef={validatorRef} noValidate>\n      <DialogContent>{children}</DialogContent>\n      <DialogActions className={classes.dialogActions}>\n        <SubmitButton text={submitText} loading={loading} />\n      </DialogActions>\n    </ValidatorForm>\n  );\n};\n\nexport default FormContent;\n","import React from 'react';\nimport { TextValidator } from 'react-material-ui-form-validator';\n\nconst DialogTextField = props => {\n  return <TextValidator margin='normal' variant='outlined' fullWidth {...props} />;\n};\n\nexport default DialogTextField;\n","import React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport DialogTextField from './DialogTextField';\n\nconst Password = ({ passwordChange, ...props }) => {\n  const { t } = useTranslation();\n\n  return (\n    <DialogTextField\n      label={t(`home.dialog.${passwordChange ? 'newPassword' : 'password'}`)}\n      type='password'\n      validators={[\n        'required',\n        'matchRegexp:^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[#$^+=!*()@%&]).{6,}$'\n      ]}\n      errorMessages={[t('home.dialog.validation.required'), t('home.dialog.validation.password')]}\n      {...props}\n    />\n  );\n};\n\nexport default Password;\n","import React from 'react';\nimport { Collapse } from '@material-ui/core';\nimport Alert from '@material-ui/lab/Alert';\nimport useStyles from './styles';\n\nconst SuccessAlert = ({ success, text }) => {\n  const classes = useStyles();\n\n  return (\n    <Collapse in={success}>\n      <Alert variant='outlined' severity='success' className={classes.successAlert}>\n        {text}\n      </Alert>\n    </Collapse>\n  );\n};\n\nexport default SuccessAlert;\n","import { useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { unwrapResult } from '@reduxjs/toolkit';\n\nconst useResultSuccess = action => {\n  const [success, setSuccess] = useState(false);\n\n  const dispatch = useDispatch();\n\n  const performAction = (args, successCallback, handleError) => {\n    setSuccess(false);\n    dispatch(action(args))\n      .then(unwrapResult)\n      .then(() => {\n        setSuccess(true);\n        successCallback && successCallback();\n      })\n      .catch(e => handleError && handleError(e));\n  };\n\n  return { success, performAction };\n};\n\nexport default useResultSuccess;\n","import React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useDispatch, useSelector } from 'react-redux';\nimport FormContent from '../../../../common/Dialog/FormContent';\nimport Password from '../../../../common/Dialog/Password';\nimport SuccessAlert from '../../../../common/Dialog/SuccessAlert';\nimport { changePassword, setError } from '../../../../../slices/userSlice';\nimport useResultSuccess from '../../../../../hooks/useResultSuccess';\n\nconst ChangePasswordContent = () => {\n  const [formData, setFormData] = useState({\n    password: '',\n    newPassword: ''\n  });\n\n  const { t } = useTranslation();\n\n  const dispatch = useDispatch();\n\n  const { success, performAction } = useResultSuccess(changePassword);\n\n  const email = useSelector(state => state.user.userData.email);\n\n  const onTextChanged = name => ({ target }) => {\n    setFormData(formData => ({ ...formData, [name]: target.value }));\n  };\n\n  const onSubmit = e => {\n    e.preventDefault();\n\n    if (formData.password === formData.newPassword) {\n      dispatch(setError('passwordsEqual'));\n      return;\n    }\n\n    performAction({ ...formData, email }, () => setFormData({ password: '', newPassword: '' }));\n  };\n\n  return (\n    <>\n      <SuccessAlert success={success} text={t('user.success.changePassword')} />\n      <FormContent onSubmit={onSubmit} submitText={t('changePassword')}>\n        <Password autoFocus onChange={onTextChanged('password')} value={formData.password} />\n        <Password\n          passwordChange\n          onChange={onTextChanged('newPassword')}\n          value={formData.newPassword}\n        />\n      </FormContent>\n    </>\n  );\n};\n\nexport default ChangePasswordContent;\n","import { useEffect, useRef } from 'react';\n\nconst useDidUpdateEffect = (effect, deps) => {\n  const isFirstRun = useRef(true);\n\n  useEffect(() => {\n    isFirstRun.current ? (isFirstRun.current = false) : effect();\n    // eslint-disable-next-line\n  }, deps);\n};\n\nexport default useDidUpdateEffect;\n","import React, { useRef, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport FormContent from '../../../../common/Dialog/FormContent';\nimport DialogTextField from '../../../../common/Dialog/DialogTextField';\nimport SuccessAlert from '../../../../common/Dialog/SuccessAlert';\nimport { setCompanyData, setUserData } from '../../../../../slices/userSlice';\nimport useDidUpdateEffect from '../../../../../hooks/useDidUpdateEffect';\nimport useResultSuccess from '../../../../../hooks/useResultSuccess';\nimport equal from 'fast-deep-equal';\n\nconst CompanyDataContent = () => {\n  const initialFormData = {\n    companyName: '',\n    nip: '',\n    address: '',\n    postalCode: '',\n    city: ''\n  };\n\n  const [formData, setFormData] = useState(initialFormData);\n\n  const { t } = useTranslation();\n\n  const dispatch = useDispatch();\n\n  const validator = useRef(null);\n\n  const { success, performAction } = useResultSuccess(setCompanyData);\n\n  const userData = useSelector(state => state.user.userData);\n\n  useDidUpdateEffect(() => {\n    equal(formData, initialFormData) && validator.current.resetValidations();\n  }, [formData]);\n\n  const onTextChanged = name => ({ target }) => {\n    setFormData(formData => ({ ...formData, [name]: target.value }));\n  };\n\n  const onSubmit = e => {\n    e.preventDefault();\n    performAction(formData, () => {\n      dispatch(setUserData({ ...userData, ...formData }));\n      setFormData(initialFormData);\n    });\n  };\n\n  return (\n    <>\n      <SuccessAlert success={success} text={t('user.success.setCompanyData')} />\n      <FormContent onSubmit={onSubmit} submitText={t('save')} validatorRef={validator}>\n        <DialogTextField\n          autoFocus\n          label={t('counterparties.name')}\n          onChange={onTextChanged('companyName')}\n          value={formData.companyName}\n          validators={['required']}\n          errorMessages={[t('validation.required')]}\n        />\n        <DialogTextField\n          label={t('counterparties.nip')}\n          onChange={onTextChanged('nip')}\n          value={formData.nip}\n          validators={['validNip']}\n          errorMessages={[t('validation.validNip')]}\n        />\n        <DialogTextField\n          label={t('counterparties.address')}\n          onChange={onTextChanged('address')}\n          value={formData.address}\n          validators={['required']}\n          errorMessages={[t('validation.required')]}\n        />\n        <DialogTextField\n          label={t('counterparties.postalCode')}\n          onChange={onTextChanged('postalCode')}\n          value={formData.postalCode}\n          validators={['postalCode']}\n          errorMessages={[t('validation.postalCode')]}\n        />\n        <DialogTextField\n          label={t('counterparties.city')}\n          onChange={onTextChanged('city')}\n          value={formData.city}\n          validators={['required']}\n          errorMessages={[t('validation.required')]}\n        />\n      </FormContent>\n    </>\n  );\n};\n\nexport default CompanyDataContent;\n","import React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport Dialog from '../../../../common/Dialog';\nimport DialogAlert from './DialogAlert';\nimport ChangePasswordContent from './ChangePasswordContent';\nimport CompanyDataContent from './CompanyDataContent';\n\nconst UserDialog = ({ open, onClose, type }) => {\n  const { t } = useTranslation();\n\n  const dialogTitle =\n    type === 'changePassword' ? t('accountChangePassword') : t('accountSetCompanyData');\n\n  return (\n    <Dialog\n      centeredTitle\n      closeButton\n      title={dialogTitle}\n      open={open}\n      onClose={onClose}\n      maxWidth='xs'\n      fullWidth>\n      <DialogAlert />\n      {type === 'changePassword' ? <ChangePasswordContent /> : <CompanyDataContent />}\n    </Dialog>\n  );\n};\n\nexport default UserDialog;\n","import { useDispatch } from 'react-redux';\n\nconst useLogout = () => {\n  const dispatch = useDispatch();\n\n  return () => {\n    localStorage.removeItem('token');\n    localStorage.removeItem('userData');\n    dispatch({ type: 'user/logout' });\n  };\n};\n\nexport default useLogout;\n","import { useState } from 'react';\n\nconst useDialog = () => {\n  const [isDialogOpen, setIsDialogOpen] = useState(false);\n\n  const [dialogData, setDialogData] = useState(null);\n\n  const openDialog = data => {\n    setIsDialogOpen(true);\n    data && setDialogData(data);\n  };\n\n  const closeDialog = () => setIsDialogOpen(false);\n\n  return { isDialogOpen, dialogData, openDialog, closeDialog };\n};\n\nexport default useDialog;\n","import { useEffect, useRef } from 'react';\n\nconst useInterval = (callback, delay) => {\n  const savedCallback = useRef();\n\n  useEffect(() => {\n    savedCallback.current = callback;\n  }, [callback]);\n\n  useEffect(() => {\n    const tick = () => {\n      savedCallback.current();\n    };\n\n    if (delay !== null) {\n      let id = setInterval(tick, delay);\n      return () => clearInterval(id);\n    }\n  }, [delay]);\n};\nexport default useInterval;\n","import JwtDecode from 'jwt-decode';\nimport { useDispatch } from 'react-redux';\nimport { refreshToken } from '../slices/userSlice';\nimport useInterval from './useInterval';\n\nconst useTokenRefresh = () => {\n  const dispatch = useDispatch();\n\n  const tokenExpiryTime = JwtDecode(localStorage.getItem('token')).exp;\n\n  const calculateExpiryDelay = () => tokenExpiryTime * 1000 - new Date().getTime() - 30000;\n\n  let expiryDelay = calculateExpiryDelay();\n\n  useInterval(() => {\n    dispatch(refreshToken());\n    expiryDelay = calculateExpiryDelay();\n  }, expiryDelay);\n};\n\nexport default useTokenRefresh;\n","import React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { IconButton, Menu, MenuItem } from '@material-ui/core';\nimport { AccountCircle } from '@material-ui/icons';\nimport UserDialog from './UserDialog';\nimport useLogout from '../../../../hooks/useLogout';\nimport useDialog from '../../../../hooks/useDialog';\nimport useDropdownMenu from '../../../../hooks/useDropdownMenu';\nimport useTokenRefresh from '../../../../hooks/useTokenRefresh';\n\nconst UserNavigation = () => {\n  const { t } = useTranslation();\n\n  const { anchor, openMenu, closeMenu } = useDropdownMenu();\n\n  const { isDialogOpen, dialogData, openDialog, closeDialog } = useDialog();\n\n  const logout = useLogout();\n\n  useTokenRefresh();\n\n  const handleClick = type => () => {\n    closeMenu();\n    openDialog(type);\n  };\n\n  return (\n    <>\n      <UserDialog open={isDialogOpen} onClose={closeDialog} type={dialogData} />\n      <IconButton edge='end' color='primary' onClick={openMenu}>\n        <AccountCircle fontSize='large' />\n      </IconButton>\n      <Menu anchorEl={anchor} open={Boolean(anchor)} onClose={closeMenu}>\n        <MenuItem onClick={handleClick('setCompanyData')}>{t('accountSetCompanyData')}</MenuItem>\n        <MenuItem onClick={handleClick('changePassword')}>{t('accountChangePassword')}</MenuItem>\n        <MenuItem onClick={logout}>{t('signOut')}</MenuItem>\n      </Menu>\n    </>\n  );\n};\n\nexport default UserNavigation;\n","import { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport JwtDecode from 'jwt-decode';\nimport { setUserData } from '../slices/userSlice';\nimport useLogout from './useLogout';\n\nconst useTokenCheck = () => {\n  const dispatch = useDispatch();\n\n  const logout = useLogout();\n\n  const isLoggedIn = useSelector(state => state.user.isLoggedIn);\n\n  useEffect(() => {\n    if (isLoggedIn || !localStorage.getItem('token')) return;\n\n    const decodedToken = JwtDecode(localStorage.getItem('token'));\n    const userData = JSON.parse(localStorage.getItem('userData'));\n\n    if (!decodedToken || !userData || decodedToken.exp < new Date().getTime() / 1000) {\n      logout();\n    } else dispatch(setUserData(userData));\n    // eslint-disable-next-line\n  }, []);\n};\n\nexport default useTokenCheck;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport { AppBar, IconButton, Toolbar, Typography } from '@material-ui/core';\nimport { Menu as MenuIcon, MonetizationOnTwoTone as AppIcon } from '@material-ui/icons';\nimport Drawer from '../AppDrawer';\nimport HomeNavigation from './HomeNavigation';\nimport UserNavigation from './UserNavigation';\nimport useDrawer from '../../../hooks/useDrawer';\nimport useTokenCheck from '../../../hooks/useTokenCheck';\nimport useStyles from './styles';\n\nconst Navigation = () => {\n  const { t } = useTranslation();\n\n  const isLoggedIn = useSelector(state => state.user.isLoggedIn);\n\n  const { openDrawer, isDrawerPermanent } = useDrawer();\n\n  const classes = useStyles();\n\n  useTokenCheck();\n\n  return (\n    <>\n      <Drawer isLoggedIn={isLoggedIn} />\n      <AppBar position='fixed' color='inherit' className={classes.appBar}>\n        <Toolbar>\n          {!isDrawerPermanent && (\n            <IconButton\n              edge='start'\n              color='inherit'\n              onClick={openDrawer}\n              className={classes.appBarSpacer}>\n              <MenuIcon />\n            </IconButton>\n          )}\n          <AppIcon fontSize='large' className={classes.appBarLogo} color='primary' />\n          <Typography variant='h6' className={classes.appBarTitle}>\n            {t('title')}\n          </Typography>\n          {isLoggedIn ? <UserNavigation /> : <HomeNavigation />}\n        </Toolbar>\n      </AppBar>\n    </>\n  );\n};\n\nexport default Navigation;\n","import { Backdrop, CircularProgress } from '@material-ui/core';\nimport React from 'react';\n\nconst SuspenseLoading = () => {\n  return (\n    <Backdrop open={true}>\n      <CircularProgress />\n    </Backdrop>\n  );\n};\n\nexport default SuspenseLoading;\n","import React from 'react';\nimport { Redirect, Route } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\n\nconst PrivateRoute = props => {\n  const isLoggedIn = useSelector(state => state.user.isLoggedIn);\n\n  return (\n    <>\n      {isLoggedIn || <Redirect to='/' />}\n      <Route {...props} />\n    </>\n  );\n};\n\nexport default PrivateRoute;\n","import { makeStyles } from '@material-ui/core';\n\nconst useStyles = makeStyles(theme => ({\n  heroContainer: {\n    width: 'fit-content',\n    padding: theme.spacing(2),\n    margin: theme.spacing(2, 0),\n    marginLeft: 'auto',\n    marginRight: 'auto',\n    display: 'flex',\n    [theme.breakpoints.only('xs')]: {\n      flexDirection: 'column'\n    }\n  },\n  heroItem: {\n    marginTop: 'auto',\n    marginBottom: 'auto',\n    [theme.breakpoints.only('xs')]: {\n      textAlign: 'center'\n    }\n  },\n  heroIcon: {\n    fontSize: '6rem',\n    marginRight: theme.spacing(2),\n    [theme.breakpoints.only('xs')]: {\n      marginRight: 0\n    }\n  },\n  featureCard: {\n    height: '100%'\n  },\n  featureIcon: {\n    fontSize: '5rem'\n  }\n}));\n\nexport default useStyles;\n","import React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Card, CardContent, Grid, Icon, Typography } from '@material-ui/core';\nimport useStyles from './styles';\n\nconst FeatureGrid = () => {\n  const { t } = useTranslation();\n\n  const features = t('home.features', { returnObjects: true });\n\n  const classes = useStyles();\n\n  return (\n    <Grid container justify='center' spacing={3}>\n      {features.map((feature, index) => (\n        <Grid key={index} item xs={12} sm={6}>\n          <Card className={classes.featureCard}>\n            <CardContent>\n              <div className='text-center'>\n                <Icon className={classes.featureIcon} color='primary'>\n                  {feature.icon}\n                </Icon>\n              </div>\n              <Typography gutterBottom variant='h5' className='text-center'>\n                {feature.header}\n              </Typography>\n              <Typography variant='body1' color='textSecondary' className='text-center'>\n                {feature.description}\n              </Typography>\n            </CardContent>\n          </Card>\n        </Grid>\n      ))}\n    </Grid>\n  );\n};\n\nexport default FeatureGrid;\n","import React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Box, Button, Typography } from '@material-ui/core';\nimport useHomeDialog from '../../../hooks/useHomeDialog';\n\nconst Footer = () => {\n  const { t } = useTranslation();\n\n  const { openDialogForType } = useHomeDialog();\n\n  return (\n    <Box mb={4} className='text-center'>\n      <Typography variant='h5'>{t('home.footer')}</Typography>\n      <Box mt={2}>\n        <Button\n          variant='outlined'\n          color='inherit'\n          size='large'\n          onClick={() => openDialogForType('register')}>\n          {t('signUp')}\n        </Button>\n      </Box>\n    </Box>\n  );\n};\n\nexport default Footer;\n","import React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Typography } from '@material-ui/core';\nimport { MonetizationOnTwoTone as AppIcon } from '@material-ui/icons';\nimport useStyles from './styles';\n\nconst Hero = () => {\n  const { t } = useTranslation();\n\n  const classes = useStyles();\n\n  return (\n    <div className={classes.heroContainer}>\n      <div className={classes.heroItem}>\n        <AppIcon className={classes.heroIcon} color='primary' />\n      </div>\n      <div className={classes.heroItem}>\n        <Typography variant='h4' gutterBottom>\n          {t('home.hero.title')}\n        </Typography>\n        <Typography variant='h6' color='textSecondary'>\n          {t('home.hero.description')}\n        </Typography>\n      </div>\n    </div>\n  );\n};\n\nexport default Hero;\n","const { makeStyles } = require('@material-ui/core');\n\nconst useStyles = makeStyles(theme => ({\n  dialogAlert: {\n    margin: theme.spacing(3, 3, 0)\n  },\n  dialogActions: {\n    padding: theme.spacing(2, 3),\n    justifyContent: 'center'\n  }\n}));\n\nexport default useStyles;\n","import React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport { Collapse } from '@material-ui/core';\nimport Alert from '@material-ui/lab/Alert';\nimport { setError } from '../../../../slices/userSlice';\nimport useStyles from './styles';\n\nconst DialogAlert = ({ locationKey }) => {\n  const [displayedError, setDisplayedError] = useState('');\n\n  const { t } = useTranslation();\n\n  const dispatch = useDispatch();\n\n  const error = useSelector(state => state.user.error);\n\n  const classes = useStyles();\n\n  useEffect(() => {\n    if (error) {\n      if (error !== locationKey) dispatch(setError(null));\n      else {\n        setDisplayedError(error);\n        setTimeout(() => {\n          dispatch(setError(null));\n        }, 5000);\n      }\n    }\n  }, [error, dispatch, locationKey]);\n\n  useEffect(() => {\n    return () => dispatch(setError(null));\n    // eslint-disable-next-line\n  }, []);\n\n  return (\n    <Collapse in={Boolean(error)}>\n      <Alert variant='outlined' severity='error' className={classes.dialogAlert}>\n        {displayedError && t(`home.dialog.error.${displayedError}`)}\n      </Alert>\n    </Collapse>\n  );\n};\n\nexport default DialogAlert;\n","import React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport DialogTextField from '../../../../../common/Dialog/DialogTextField';\n\nconst Email = props => {\n  const { t } = useTranslation();\n\n  return (\n    <DialogTextField\n      label={t('home.dialog.email')}\n      type='email'\n      validators={['required', 'isEmail']}\n      errorMessages={[t('home.dialog.validation.required'), t('home.dialog.validation.email')]}\n      {...props}\n    />\n  );\n};\n\nexport default Email;\n","import { makeStyles } from '@material-ui/core';\n\nconst useStyles = makeStyles(theme => ({\n  dialogText: {\n    display: 'block',\n    marginTop: theme.spacing(3),\n    textAlign: 'center'\n  },\n  dialogConfirmContainer: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    margin: theme.spacing(3, 0)\n  },\n  dialogProgress: {\n    marginRight: theme.spacing(2)\n  }\n}));\n\nexport default useStyles;\n","import React, { useState } from 'react';\nimport { Link as BrowserLink, Redirect } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport { Link } from '@material-ui/core';\nimport FormContent from '../../../../common/Dialog/FormContent';\nimport Email from './common/Email';\nimport Password from '../../../../common/Dialog/Password';\nimport { login } from '../../../../../slices/userSlice';\nimport useStyles from './styles';\n\nconst Login = () => {\n  const [formData, setFormData] = useState({\n    email: '',\n    password: ''\n  });\n\n  const { t } = useTranslation();\n\n  const dispatch = useDispatch();\n\n  const isLoggedIn = useSelector(state => state.user.isLoggedIn);\n\n  const classes = useStyles();\n\n  const onTextChanged = name => ({ target }) => {\n    setFormData(formData => ({ ...formData, [name]: target.value }));\n  };\n\n  const onSubmit = e => {\n    e.preventDefault();\n    dispatch(login(formData));\n  };\n\n  return (\n    <>\n      {isLoggedIn && <Redirect to='invoices' />}\n      <FormContent onSubmit={onSubmit} submitText={t('signIn')}>\n        <Email autoFocus onChange={onTextChanged('email')} value={formData.email} />\n        <Password onChange={onTextChanged('password')} value={formData.password} />\n        <Link\n          component={BrowserLink}\n          to='resetPassword'\n          variant='body2'\n          color='primary'\n          className={classes.dialogText}>\n          {t('home.dialog.forgotPassword')}\n        </Link>\n      </FormContent>\n    </>\n  );\n};\n\nexport default Login;\n","import React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Typography } from '@material-ui/core';\nimport SuccessAlert from '../../../../common/Dialog/SuccessAlert';\nimport FormContent from '../../../../common/Dialog/FormContent';\nimport DialogTextField from '../../../../common/Dialog/DialogTextField';\nimport Email from './common/Email';\nimport Password from '../../../../common/Dialog/Password';\nimport { register } from '../../../../../slices/userSlice';\nimport useResultSuccess from '../../../../../hooks/useResultSuccess';\nimport useStyles from './styles';\n\nconst Register = () => {\n  const [formData, setFormData] = useState({\n    fullName: '',\n    email: '',\n    password: ''\n  });\n\n  const { success, performAction } = useResultSuccess(register);\n\n  const { t } = useTranslation();\n\n  const classes = useStyles();\n\n  const onTextChanged = name => ({ target }) => {\n    setFormData(formData => ({ ...formData, [name]: target.value }));\n  };\n\n  const onSubmit = e => {\n    e.preventDefault();\n    performAction(formData, () => setFormData({ fullName: '', email: '', password: '' }));\n  };\n\n  return (\n    <>\n      <SuccessAlert success={success} text={t('home.dialog.success.register')} />\n      <FormContent onSubmit={onSubmit} submitText={t('signUp')}>\n        <DialogTextField\n          autoFocus\n          label={t('home.dialog.name')}\n          type='text'\n          value={formData.fullName}\n          validators={['required']}\n          errorMessages={[t('home.dialog.validation.required')]}\n          onChange={onTextChanged('fullName')}\n        />\n        <Email onChange={onTextChanged('email')} value={formData.email} />\n        <Password onChange={onTextChanged('password')} value={formData.password} />\n        <Typography variant='body2' color='textSecondary' className={classes.dialogText}>\n          {t('home.dialog.terms')}\n        </Typography>\n      </FormContent>\n    </>\n  );\n};\n\nexport default Register;\n","import React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport SuccessAlert from '../../../../common/Dialog/SuccessAlert';\nimport FormContent from '../../../../common/Dialog/FormContent';\nimport Email from './common/Email';\nimport { resetPassword } from '../../../../../slices/userSlice';\nimport useResultSuccess from '../../../../../hooks/useResultSuccess';\n\nconst ResetPassword = () => {\n  const [email, setEmail] = useState('');\n\n  const { success, performAction } = useResultSuccess(resetPassword);\n\n  const { t } = useTranslation();\n\n  const onTextChanged = ({ target }) => {\n    setEmail(target.value);\n  };\n\n  const onSubmit = e => {\n    e.preventDefault();\n    performAction(email, () => setEmail(''));\n  };\n\n  return (\n    <>\n      <SuccessAlert success={success} text={t('home.dialog.success.resetPassword')} />\n      <FormContent onSubmit={onSubmit} submitText={t('reset')}>\n        <Email autoFocus onChange={onTextChanged} value={email} />\n      </FormContent>\n    </>\n  );\n};\n\nexport default ResetPassword;\n","import React, { useState } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next';\nimport SuccessAlert from '../../../../common/Dialog/SuccessAlert';\nimport FormContent from '../../../../common/Dialog/FormContent';\nimport Password from '../../../../common/Dialog/Password';\nimport { changeResetPassword } from '../../../../../slices/userSlice';\nimport useResultSuccess from '../../../../../hooks/useResultSuccess';\n\nconst ChangePassword = () => {\n  const [password, setPassword] = useState('');\n\n  const { success, performAction } = useResultSuccess(changeResetPassword);\n\n  const { t } = useTranslation();\n\n  const params = new URLSearchParams(useLocation().search);\n  const email = params.get('email');\n  const token = params.get('token');\n\n  const onTextChanged = ({ target }) => {\n    setPassword(target.value);\n  };\n\n  const onSubmit = e => {\n    e.preventDefault();\n    performAction({ email: email, resetToken: token, newPassword: password }, () =>\n      setPassword('')\n    );\n  };\n\n  return (\n    <>\n      <SuccessAlert success={success} text={t('home.dialog.success.resetPassword')} />\n      <FormContent onSubmit={onSubmit} submitText={t('changePassword')}>\n        <Password autoFocus passwordChange onChange={onTextChanged} value={password} />\n      </FormContent>\n    </>\n  );\n};\n\nexport default ChangePassword;\n","import React, { useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport { CircularProgress, DialogContent, Typography } from '@material-ui/core';\nimport SuccessAlert from '../../../../common/Dialog/SuccessAlert';\nimport { confirmEmail } from '../../../../../slices/userSlice';\nimport useResultSuccess from '../../../../../hooks/useResultSuccess';\nimport useStyles from './styles';\n\nconst ConfirmEmail = () => {\n  const { success, performAction } = useResultSuccess(confirmEmail);\n\n  const { t } = useTranslation();\n\n  const actionPending = useSelector(state => state.user.actionPending);\n\n  const params = new URLSearchParams(useLocation().search);\n  const email = params.get('email');\n  const token = params.get('token');\n\n  const classes = useStyles();\n\n  useEffect(() => {\n    performAction({ email: email, token: token });\n    // eslint-disable-next-line\n  }, []);\n\n  return (\n    <>\n      <SuccessAlert success={success} text={t('home.dialog.success.confirmEmail')} />\n      <DialogContent>\n        <div className={classes.dialogConfirmContainer}>\n          {actionPending ? (\n            <>\n              <CircularProgress className={classes.dialogProgress} />\n              <Typography>{t('home.dialog.pleaseWait')}</Typography>\n            </>\n          ) : (\n            <Typography>{t('home.dialog.closeWindow')}</Typography>\n          )}\n        </div>\n      </DialogContent>\n    </>\n  );\n};\n\nexport default ConfirmEmail;\n","import React from 'react';\nimport { Route, useLocation } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next';\nimport Dialog from '../../../common/Dialog';\nimport DialogAlert from './DialogAlert';\nimport Login from './DialogContent/Login';\nimport Register from './DialogContent/Register';\nimport ResetPassword from './DialogContent/ResetPassword';\nimport ChangePassword from './DialogContent/ChangePassword';\nimport ConfirmEmail from './DialogContent/ConfirmEmail';\nimport useHomeDialog from '../../../../hooks/useHomeDialog';\n\nconst HomeDialog = () => {\n  const { t } = useTranslation();\n\n  const { isDialogOpen, closeDialog, onExited } = useHomeDialog();\n\n  const locationKey = useLocation().pathname.substring(1);\n\n  const dialogTitle = () => {\n    //Required to make sure i18n doesn't log missing key errors.\n    return locationKey ? t(`home.dialog.${locationKey}`) : '';\n  };\n\n  return (\n    <Dialog\n      centeredTitle\n      closeButton\n      title={dialogTitle()}\n      open={isDialogOpen}\n      onClose={closeDialog}\n      onExited={onExited}\n      maxWidth='xs'\n      fullWidth>\n      <DialogAlert locationKey={locationKey} />\n      <Route exact path='/login' component={Login} />\n      <Route exact path='/register' component={Register} />\n      <Route exact path='/resetPassword' component={ResetPassword} />\n      <Route exact path='/changePassword' component={ChangePassword} />\n      <Route exact path='/confirmEmail' component={ConfirmEmail} />\n    </Dialog>\n  );\n};\n\nexport default HomeDialog;\n","import React, { useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport { Redirect, useLocation } from 'react-router-dom';\nimport { Box, Divider } from '@material-ui/core';\nimport FeatureGrid from './FeatureGrid';\nimport Footer from './Footer';\nimport Hero from './Hero';\nimport HomeDialog from './HomeDialog';\nimport useHomeDialog from '../../../hooks/useHomeDialog';\n\nconst Home = () => {\n  const location = useLocation();\n\n  const { isDialogOpen, openDialog, closeDialog } = useHomeDialog();\n\n  const isLoggedIn = useSelector(state => state.user.isLoggedIn);\n\n  const checkLocation = () => {\n    location.pathname !== '/' && !isDialogOpen && openDialog();\n    location.pathname === '/' && isDialogOpen && closeDialog();\n  };\n  useEffect(checkLocation, [location]);\n\n  return (\n    <>\n      {isLoggedIn && <Redirect to='invoices' />}\n      <HomeDialog />\n      <Hero />\n      <FeatureGrid />\n      <Box my={5}>\n        <Divider variant='fullWidth' />\n      </Box>\n      <Footer />\n    </>\n  );\n};\n\nexport default Home;\n","import React, { useEffect, useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport { Button, DialogContentText } from '@material-ui/core';\nimport Dialog from '../common/Dialog';\n\nconst ErrorDialog = ({ error, clearAction, onClose }) => {\n  const [displayedError, setDisplayedError] = useState('');\n\n  const { t } = useTranslation();\n\n  const dispatch = useDispatch();\n\n  const closeDialog = () => {\n    onClose ? onClose() : dispatch(clearAction(null));\n  };\n\n  const getTitle = () => (displayedError ? t(`errors.${displayedError}`) : '');\n\n  const getText = () => {\n    const createErrors = ['create', 'invoice', 'counterparty'];\n    const translationKey = () => {\n      switch (displayedError) {\n        case createErrors.includes(displayedError):\n          return 'create';\n        case 'createInvoice':\n          return 'createInvoice';\n        case 'delete':\n          return 'delete';\n        case 'details':\n          return 'details';\n        default:\n          return 'serverDown';\n      }\n    };\n\n    return t(`errors.text.${translationKey()}`);\n  };\n\n  useEffect(() => {\n    error && setDisplayedError(error);\n  }, [error]);\n\n  return (\n    <Dialog\n      open={Boolean(error)}\n      onClose={closeDialog}\n      title={getTitle()}\n      content={<DialogContentText>{getText()}</DialogContentText>}\n      actions={\n        <Button onClick={closeDialog} color='primary'>\n          {t('cancel')}\n        </Button>\n      }\n    />\n  );\n};\n\nexport default ErrorDialog;\n","import React, { useEffect, useState } from 'react';\nimport { Backdrop, CircularProgress } from '@material-ui/core';\n\nconst LoadingBackdrop = ({ actionPending, className }) => {\n  const [open, setOpen] = useState(false);\n\n  useEffect(() => {\n    let id = null;\n    if (actionPending !== open) {\n      if (actionPending) setOpen(true);\n      else {\n        id = setTimeout(() => {\n          setOpen(actionPending);\n        }, 1000);\n      }\n    }\n    return () => id && clearTimeout(id);\n    // eslint-disable-next-line\n  }, [actionPending]);\n\n  return (\n    <Backdrop open={open} transitionDuration={500} className={className}>\n      <CircularProgress />\n    </Backdrop>\n  );\n};\n\nexport default LoadingBackdrop;\n","import React from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next';\nimport { Typography } from '@material-ui/core';\n\nconst Header = () => {\n  const { t } = useTranslation();\n\n  const location = useLocation();\n\n  const headerText = t(`invoices.header.${location.pathname.split('/')[2]}`);\n\n  return <Typography variant='h5'>{headerText}</Typography>;\n};\n\nexport default Header;\n","import React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { TextValidator } from 'react-material-ui-form-validator';\n\nconst EditorTextField = ({ validators, ...props }) => {\n  const { t } = useTranslation();\n\n  const errorMessages = validators && validators.map(name => t(`validation.${name}`));\n\n  return (\n    <TextValidator\n      variant='outlined'\n      fullWidth\n      validators={validators}\n      errorMessages={errorMessages}\n      {...props}\n    />\n  );\n};\n\nexport default EditorTextField;\n","import React from 'react';\nimport { Autocomplete as MaterialAutocomplete, createFilterOptions } from '@material-ui/lab';\nimport EditorTextField from './EditorTextField';\n\nconst Autocomplete = ({ textProps, ...props }) => {\n  const filterOptions = createFilterOptions({\n    limit: 5\n  });\n\n  return (\n    <MaterialAutocomplete\n      freeSolo\n      fullWidth\n      filterOptions={filterOptions}\n      renderInput={props => <EditorTextField {...props} {...textProps} variant='outlined' />}\n      {...props}\n    />\n  );\n};\n\nexport default Autocomplete;\n","import React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport DateFnsUtils from '@date-io/date-fns';\nimport enLocale from 'date-fns/locale/en-GB';\nimport plLocale from 'date-fns/locale/pl';\nimport { KeyboardDatePicker, MuiPickersUtilsProvider } from '@material-ui/pickers';\n\nconst locales = {\n  en: enLocale,\n  pl: plLocale\n};\n\nconst DatePicker = ({ onChange, minDate, ...props }) => {\n  const { i18n } = useTranslation();\n\n  return (\n    <MuiPickersUtilsProvider utils={DateFnsUtils} locale={locales[i18n.language]}>\n      <KeyboardDatePicker\n        disablePast={!Boolean(minDate)}\n        variant='inline'\n        inputVariant='outlined'\n        fullWidth\n        format='dd/MM/yyyy'\n        onChange={(date, _) => onChange(new Date(date).toISOString())}\n        {...(minDate && { minDate: minDate })}\n        {...props}\n      />\n    </MuiPickersUtilsProvider>\n  );\n};\n\nexport default DatePicker;\n","import { Box, IconButton } from '@material-ui/core';\nimport { Delete } from '@material-ui/icons';\nimport React from 'react';\n\nconst ClearButton = ({ onClick }) => {\n  return (\n    <Box ml={1}>\n      <IconButton onClick={onClick} size='small'>\n        <Delete color='primary' />\n      </IconButton>\n    </Box>\n  );\n};\n\nexport default ClearButton;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport Autocomplete from '../Input/Autocomplete';\nimport DatePicker from '../Input/DatePicker';\nimport EditorTextField from '../Input/EditorTextField';\nimport ClearButton from '../Input/ClearButton';\n\nconst useFields = ({ update, select, editorData }) => {\n  const { t } = useTranslation();\n\n  const employees = useSelector(state => state.invoice.employeeData);\n\n  const employee = editorData.employee;\n\n  const parsableDate = new Date(editorData.date);\n\n  const getAutocomplete = (property, label) => (\n    <Autocomplete\n      disabled={Boolean(employee?.id)}\n      options={employees}\n      getOptionLabel={employee => employee[property]}\n      onChange={(_, value, reason) => reason === 'select-option' && select(value)}\n      inputValue={employee?.[property] || ''}\n      textProps={{\n        label: label,\n        validators: [property === 'fullName' ? 'required' : 'phoneNumber'],\n        onChange: update(property, true),\n        value: employee?.[property]\n      }}\n    />\n  );\n\n  return {\n    Number: (\n      <EditorTextField\n        label={t('invoices.number')}\n        validators={['required']}\n        onChange={update('number')}\n        value={editorData.number}\n      />\n    ),\n    Date: (\n      <DatePicker\n        minDate={Boolean(editorData.id) && parsableDate}\n        label={t('invoices.date')}\n        onChange={update('date')}\n        value={parsableDate}\n      />\n    ),\n    FullName: getAutocomplete('fullName', t('employees.fullName')),\n    PhoneNumber: getAutocomplete('phoneNumber', t('employees.phoneNumber')),\n    Clear: <ClearButton onClick={() => select(null)} />\n  };\n};\n\nexport default useFields;\n","import format from 'date-fns/format';\n\nexport const initialEditorData = {\n  type: null,\n  number: '',\n  date: new Date().toISOString(),\n  employee: null,\n  counterparty: null,\n  items: [],\n  paymentType: null,\n  paymentDeadline: null\n};\n\nexport const getType = id => {\n  return invoiceTypes.findIndex(x => x.id === id);\n};\n\nexport const getId = type => {\n  return invoiceTypes[type].id;\n};\n\nexport const getNumber = (type, invoiceDate, invoices) => {\n  let count = 1;\n  const date = new Date(invoiceDate);\n  invoices.forEach(invoice => isEqual(type, date.getMonth(), invoice) && count++);\n\n  const symbol = invoiceTypes[type].symbol;\n  const index = ('' + count).padStart(4, '0');\n  const month = format(date, 'MM');\n  const year = format(date, 'yyyy');\n\n  return `${symbol} ${index}/${month}/${year}`;\n};\n\nconst invoiceTypes = [\n  { id: 'vat', symbol: 'FV' },\n  { id: 'proforma', symbol: 'FP' },\n  { id: 'receipt', symbol: 'PA' },\n  { id: 'corrective', symbol: 'FC' }\n];\n\nconst isEqual = (type, month, invoice) =>\n  type === invoice.type && month === new Date(invoice.date).getMonth();\n","import pdfMake from 'pdfmake/build/pdfmake.min.js';\nimport pdfFonts from 'pdfmake/build/vfs_fonts';\n\npdfMake.vfs = pdfFonts.pdfMake.vfs;\n\nexport default pdfMake;\n","import format from 'date-fns/format';\nimport { getId, getType } from '../utils/editorUtils';\n\nconst getHeaderElement = (invoice, t) => {\n  const { type, number, date, paymentDeadline, paymentType } = invoice;\n\n  const paymentTypes = t('invoices.paymentTypes', { returnObjects: true });\n\n  return [\n    {\n      text: t(`invoices.header.${getId(type)}`),\n      style: 'header',\n      margin: [0, 0, 0, 10]\n    },\n    {\n      layout: 'noBorders',\n      margin: [0, 0, 0, 20],\n      table: {\n        body: [\n          [`${t('invoices.number')}:`, number],\n          [`${t('invoices.date')}:`, format(new Date(date), 'dd.MM.yyyy')],\n          ...(type !== getType('receipt')\n            ? [\n                [`${t('invoices.deadline')}:`, format(new Date(paymentDeadline), 'dd.MM.yyyy')],\n                [`${t('invoices.paymentType')}:`, paymentTypes[paymentType]]\n              ]\n            : [])\n        ]\n      }\n    }\n  ];\n};\n\nexport default getHeaderElement;\n","const getCounterpartiesElement = (counterparty, companyData, t) => {\n  const layout = {\n    hLineWidth: index => {\n      return index === 1 ? 1 : 0;\n    },\n    vLineWidth: () => {\n      return 0;\n    }\n  };\n\n  return {\n    columns: [\n      {\n        layout: layout,\n        margin: [0, 0, 20, 0],\n        table: {\n          headerRows: 1,\n          widths: ['*'],\n          body: [\n            [{ text: t('invoices.seller'), fontSize: 14 }],\n            [{ text: companyData.companyName, margin: [0, 5, 0, 0] }],\n            [companyData.address],\n            [`${companyData.postalCode} ${companyData.city}`],\n            [`${t('counterparties.nip')}: ${companyData.nip}`]\n          ]\n        }\n      },\n      counterparty && {\n        layout: layout,\n        margin: [20, 0, 0, 0],\n        table: {\n          headerRows: 1,\n          widths: ['*'],\n          body: [\n            [{ text: t('invoices.buyer'), fontSize: 14 }],\n            [{ text: counterparty.name, margin: [0, 5, 0, 0] }],\n            [counterparty.address],\n            [`${counterparty.postalCode} ${counterparty.city}`],\n            [`${t('counterparties.nip')}: ${counterparty.nip}`]\n          ]\n        }\n      }\n    ]\n  };\n};\n\nexport default getCounterpartiesElement;\n","const getItemsElement = (items, type, t) => {\n  const vatRateStrings = [\n    '23%',\n    '8%',\n    '5%',\n    '0%',\n    t('products.vatExempt'),\n    t('products.vatNotApplicable')\n  ];\n\n  const pdfItems = getItems(items, vatRateStrings);\n\n  return {\n    layout: {\n      fillColor: rowIndex => {\n        return rowIndex === 0 ? '#EEEEEE' : null;\n      }\n    },\n    margin: [0, 40, 0, 0],\n    table: {\n      headerRows: 1,\n      widths: ['auto', '*', 'auto', 'auto', 'auto', 'auto', 'auto', 'auto', 'auto'],\n      body: [\n        [\n          t('products.ordinal'),\n          t('products.name'),\n          t('products.unit'),\n          t('products.count'),\n          t('products.netPrice'),\n          'VAT',\n          t('invoices.netValue'),\n          t('invoices.vatValue'),\n          t('invoices.grossValue')\n        ],\n        ...pdfItems\n      ]\n    }\n  };\n};\n\nconst getItems = (items, vatRateStrings) => {\n  return items.map((item, index) => {\n    const { name, unit, count, netPrice, grossPrice, vatRate } = item;\n    const netValue = netPrice * count;\n    const grossValue = grossPrice * count;\n    const vatValue = grossValue - netValue;\n\n    return [\n      index + 1,\n      name,\n      unit,\n      count,\n      netPrice.toFixed(2),\n      vatRateStrings[vatRate],\n      netValue.toFixed(2),\n      vatValue.toFixed(2),\n      grossValue.toFixed(2)\n    ];\n  });\n};\n\nexport default getItemsElement;\n","const getSummaryElement = (invoice, t) => {\n  const vatRateStrings = [\n    '23%',\n    '8%',\n    '5%',\n    '0%',\n    t('products.vatExempt'),\n    t('products.vatNotApplicable')\n  ];\n\n  const netTotal = invoice.netTotal.toFixed(2);\n  const grossTotal = invoice.grossTotal.toFixed(2);\n  const vatTotal = (invoice.grossTotal - invoice.netTotal).toFixed(2);\n\n  const summaryItems = getSummaryItems(invoice.items, vatRateStrings);\n\n  return [\n    {\n      columns: [\n        { width: '*', text: '' },\n        {\n          width: 'auto',\n          layout: {\n            fillColor: rowIndex => {\n              return rowIndex === 0 || rowIndex === 3 ? '#EEEEEE' : null;\n            }\n          },\n          margin: [0, 40, 0, 0],\n          table: {\n            headerRows: 1,\n            widths: ['auto', 'auto', 'auto', 'auto'],\n            body: [\n              ['VAT', t('invoices.netValue'), t('invoices.vatValue'), t('invoices.grossValue')],\n              ...summaryItems,\n              [\n                { text: t('invoices.total'), bold: true },\n                { text: netTotal, bold: true },\n                { text: vatTotal, bold: true },\n                { text: grossTotal, bold: true }\n              ]\n            ]\n          }\n        }\n      ]\n    },\n    {\n      style: 'summary',\n      layout: 'noBorders',\n      margin: [0, 40, 0, 0],\n      table: {\n        headerRows: 1,\n        keepWithHeaderRows: true,\n        body: [\n          [t('invoices.total'), `${invoice.grossTotal.toFixed(2)} zł`],\n          [\n            { text: t('invoices.amountDue'), bold: true },\n            { text: `${invoice.grossTotal.toFixed(2)} zł`, bold: true }\n          ]\n        ]\n      }\n    }\n  ];\n};\n\nconst getSummaryItems = (items, vatRateStrings) => {\n  const vatRates = items.reduce((prev, { vatRate }) => {\n    return !prev.includes(vatRate) ? [...prev, vatRate] : prev;\n  }, []);\n\n  vatRates.sort((a, b) => a - b);\n\n  return vatRates.map(vatRate => {\n    const netValue = getPropertyTotal('netPrice', vatRate, items);\n    const grossValue = getPropertyTotal('grossPrice', vatRate, items);\n    const vatValue = grossValue - netValue;\n\n    return [\n      vatRateStrings[vatRate],\n      netValue.toFixed(2),\n      vatValue.toFixed(2),\n      grossValue.toFixed(2)\n    ];\n  });\n};\n\nconst getPropertyTotal = (property, vatRate, items) =>\n  items.reduce((prev, curr) => {\n    return curr.vatRate === vatRate ? prev + Number(curr[property]) * Number(curr.count) : prev;\n  }, 0);\n\nexport default getSummaryElement;\n","const getFooterElement = (fullName, t) => (currentPage, pageCount) => {\n  return (\n    currentPage === pageCount && [\n      {\n        margin: [80, 40],\n        columns: [\n          {\n            margin: [0, 0, 20, 0],\n            table: {\n              widths: ['*'],\n              body: [\n                [\n                  {\n                    text: fullName,\n                    alignment: 'center',\n                    border: [false, false, false, false]\n                  }\n                ],\n                [\n                  {\n                    text: t('invoices.issuerSignature'),\n                    alignment: 'center',\n                    border: [false, true, false, false]\n                  }\n                ]\n              ]\n            }\n          },\n          {\n            margin: [20, 0, 0, 0],\n            table: {\n              widths: ['*'],\n              body: [\n                [{ text: ' ', alignment: 'center', border: [false, false, false, false] }],\n                [\n                  {\n                    text: t('invoices.recipientSignature'),\n                    alignment: 'center',\n                    border: [false, true, false, false]\n                  }\n                ]\n              ]\n            }\n          }\n        ]\n      }\n    ]\n  );\n};\n\nexport default getFooterElement;\n","import getHeaderElement from './headerElement';\nimport getCounterpartiesElement from './counterpartiesElement';\nimport getItemsElement from './itemsElement';\nimport getSummaryElement from './summaryElement';\nimport getFooterElement from './footerElement';\n\nconst getDocumentDefinition = (invoice, companyData, t) => {\n  const { employee, counterparty, items, type } = invoice;\n\n  return {\n    content: [\n      ...getHeaderElement(invoice, t),\n      getCounterpartiesElement(counterparty, companyData, t),\n      getItemsElement(items, type, t),\n      ...getSummaryElement(invoice, t)\n    ],\n    footer: getFooterElement(employee.fullName, t),\n    pageMargins: [40, 40, 40, 100],\n    defaultStyle: {\n      fontSize: 10\n    },\n    styles: {\n      header: {\n        alignment: 'left',\n        fontSize: 18,\n        bold: true\n      },\n      counterpartiesHeader: {\n        fontSize: 14\n      },\n      summary: {\n        fontSize: 12\n      }\n    }\n  };\n};\n\nexport default getDocumentDefinition;\n","export const filterProperties = (oldData, newData) => {\n  const filteredKeys = Object.keys(newData).filter(key => newData[key] !== oldData[key]);\n\n  if (filteredKeys.length === 0) return;\n\n  return filteredKeys.reduce((prev, key) => ({ ...prev, [key]: newData[key] }), {});\n};\n\nexport const getColumnCellStyle = width => {\n  return {\n    cellStyle: {\n      minWidth: width,\n      maxWidth: width\n    },\n    headerStyle: {\n      minWidth: width,\n      maxWidth: width\n    }\n  };\n};\n","import apiHandler from '../apis/apiHandler';\nimport webInvoicerApi from '../apis/webInvoicerApi';\nimport i18n from '../i18n';\nimport pdfMake from '../pdfMake';\nimport getDocumentDefinition from '../pdf/documentDefinition';\nimport { filterProperties } from './dataUtils';\nimport { getType } from './editorUtils';\n\nconst useInvoicePayloadCreators = () => {\n  const createPayload = invoice => async () => {\n    const { employee, counterparty, items, ...invoiceData } = invoice;\n\n    const employeeId = await getEmployeeId(employee);\n    const counterpartyId = await getCounterpartyId(counterparty, invoiceData.type);\n\n    const invoiceId = (\n      await handleAction({\n        method: () =>\n          webInvoicerApi().post('Invoices', { ...invoiceData, employeeId, counterpartyId }),\n        errorData: 'invoice'\n      })\n    ).id;\n\n    await addNewItems(invoiceId, items);\n  };\n\n  const getPayload = async () => {\n    const employees = await handleAction({\n      method: () => webInvoicerApi().get('Employees'),\n      errorData: 'employees'\n    });\n\n    const counterparties = await handleAction({\n      method: () => webInvoicerApi().get('Counterparties'),\n      errorData: 'counterparties'\n    });\n\n    let invoices = await handleAction({\n      method: () => webInvoicerApi().get('Invoices'),\n      errorData: 'invoices'\n    });\n\n    invoices = invoices.map(invoice => {\n      const { employeeId, counterpartyId, ...rest } = invoice;\n      return {\n        ...rest,\n        employee: employees.find(x => x.id === employeeId),\n        counterparty: counterparties.find(x => x.id === counterpartyId)\n      };\n    });\n\n    return { invoices, employees, counterparties };\n  };\n\n  const updatePayload = (oldInvoice, invoice) => async () => {\n    const { id, type, employee, counterparty, items, ...invoiceData } = invoice;\n    const oldInvoiceData = extractInvoice(oldInvoice);\n\n    const employeeId = await getEmployeeId(employee);\n    const counterpartyId = await getCounterpartyId(counterparty, type);\n\n    const updateData = filterProperties(oldInvoiceData, {\n      ...invoiceData,\n      employeeId,\n      counterpartyId\n    });\n\n    updateData &&\n      (await handleAction({\n        method: () => webInvoicerApi().put('Invoices', { id, type, ...updateData }),\n        errorData: 'invoice'\n      }));\n\n    await updateItems(invoice.id, oldInvoice.items, items);\n  };\n\n  const exportPayload = (invoice, companyData) => async () => {\n    const items = await handleAction({\n      method: () => webInvoicerApi().get(`InvoiceItems/${invoice.id}`),\n      errorData: 'export'\n    });\n\n    const mappedItems = [];\n    for (const item of items) {\n      const productData = await handleAction({\n        method: () => webInvoicerApi().get(`Products/${item.id}`),\n        errorData: 'export'\n      });\n\n      mappedItems.push({ ...item, ...productData });\n    }\n\n    pdfMake\n      .createPdf(\n        getDocumentDefinition({ ...invoice, items: mappedItems }, companyData, i18n.t.bind(i18n))\n      )\n      .download(`${invoice.number}.pdf`);\n  };\n\n  const getEmployeeId = async employee => {\n    if (!employee.id) {\n      return (\n        await handleAction({\n          method: () => webInvoicerApi().post('Employees', employee),\n          errorData: 'employee'\n        })\n      ).id;\n    } else return employee.id;\n  };\n\n  const getCounterpartyId = async (counterparty, type) => {\n    if (!counterparty?.id && type !== getType('receipt')) {\n      return (\n        await handleAction({\n          method: () => webInvoicerApi().post('Counterparties', counterparty),\n          errorData: 'counterparty'\n        })\n      ).id;\n    } else return counterparty?.id;\n  };\n\n  const addNewItems = async (invoiceId, items) => {\n    for (let index = 0; index < items.length; index++) {\n      const { count, unit, editorId, ...productData } = items[index];\n      let productId = items[index].id;\n\n      if (!productId) {\n        productId = (\n          await handleAction({\n            method: () => webInvoicerApi().post('Products', productData),\n            errorData: 'product'\n          })\n        ).id;\n      }\n\n      await handleAction({\n        method: () =>\n          webInvoicerApi().post('InvoiceItems', { invoiceId, productId, index, count, unit }),\n        errorData: 'item'\n      });\n    }\n  };\n\n  const updateItems = async (invoiceId, oldItems, newItems) => {\n    await addNewItems(\n      invoiceId,\n      newItems.filter(x => x.itemId === undefined)\n    );\n\n    for (const item of oldItems) {\n      const newItemIndex = newItems.findIndex(x => x.itemId === item.itemId);\n\n      if (newItemIndex !== -1) {\n        const newItem = { ...extractItem(newItems[newItemIndex]), index: newItemIndex };\n        const updateData = filterProperties(extractItem(item), newItem);\n\n        updateData &&\n          (await handleAction({\n            method: () =>\n              webInvoicerApi().put('InvoiceItems', { ...updateData, itemId: item.itemId }),\n            errorData: 'item'\n          }));\n      } else {\n        await handleAction({\n          method: () => webInvoicerApi().delete(`InvoiceItems/${item.itemId}`),\n          errorData: 'item'\n        });\n      }\n    }\n  };\n\n  const handleAction = async ({ method, errorData }) => {\n    const response = await apiHandler(method(), errorData);\n\n    if (response.type === 'ERROR') {\n      throw new Error(response.data);\n    }\n    return response.data;\n  };\n\n  const extractInvoice = ({ employee, counterparty, items, ...rest }) => ({\n    ...rest,\n    employeeId: employee.id,\n    counterpartyId: counterparty?.id\n  });\n\n  const extractItem = ({ id, index, count, unit }) => ({ id, index, count, unit });\n\n  return { createPayload, getPayload, updatePayload, exportPayload };\n};\n\nexport default useInvoicePayloadCreators;\n","import { createAsyncThunk, createSlice, nanoid } from '@reduxjs/toolkit';\nimport webInvoicerApi from '../apis/webInvoicerApi';\nimport apiHandler from '../apis/apiHandler';\nimport { initialEditorData } from '../utils/editorUtils';\nimport useInvoicePayloadCreators from '../utils/invoiceUtils';\n\nconst initialState = {\n  actionPending: false,\n  error: null,\n  invoiceData: [],\n  employeeData: [],\n  counterpartyData: [],\n  productData: [],\n  editorData: initialEditorData,\n  oldEditorData: null\n};\n\nexport const createInvoice = createAsyncThunk('invoice/create', async (invoice, { dispatch }) => {\n  return await handlePayloadCreator(createPayload(invoice), dispatch);\n});\n\nexport const getInvoices = createAsyncThunk('invoice/get', async (_, { dispatch }) => {\n  return await handlePayloadCreator(getPayload, dispatch);\n});\n\nexport const updateInvoice = createAsyncThunk(\n  'invoice/update',\n  async ({ oldInvoice, invoice }, { dispatch }) => {\n    return await handlePayloadCreator(updatePayload(oldInvoice, invoice), dispatch);\n  }\n);\n\nexport const deleteInvoice = createAsyncThunk('invoice/delete', async (id, { dispatch }) => {\n  await handleAction(\n    {\n      method: () => webInvoicerApi().delete(`Invoices/${id}`),\n      errorData: 'delete'\n    },\n    dispatch\n  );\n\n  return id;\n});\n\nexport const exportInvoice = createAsyncThunk(\n  'invoice/export',\n  async (invoice, { dispatch, getState }) => {\n    return await handlePayloadCreator(exportPayload(invoice, getState().user.userData), dispatch);\n  }\n);\n\nexport const getProducts = createAsyncThunk('invoice/getProducts', async (_, { dispatch }) => {\n  return await handleAction(\n    {\n      method: () => webInvoicerApi().get('Products'),\n      errorData: 'getProducts'\n    },\n    dispatch\n  );\n});\n\nexport const getInvoiceItems = createAsyncThunk(\n  'invoice/getItems',\n  async (id, { dispatch, getState }) => {\n    const items = await handleAction(\n      {\n        method: () => webInvoicerApi().get(`InvoiceItems/${id}`),\n        errorData: 'getInvoiceItems'\n      },\n      dispatch\n    );\n\n    return items.map(item => {\n      const products = getState().invoice.productData;\n      const product = products.find(x => x.id === item.id);\n      return { editorId: nanoid(), ...item, ...product };\n    });\n  }\n);\n\nconst handlePayloadCreator = async (payloadCreator, dispatch) => {\n  try {\n    dispatch(setActionPending(true));\n    const result = await payloadCreator();\n    dispatch(setActionPending(false));\n\n    return result;\n  } catch (error) {\n    dispatch(setError(error.message));\n    throw error;\n  }\n};\n\nconst handleAction = async ({ method, errorData }, dispatch) => {\n  dispatch(setActionPending(true));\n  const response = await apiHandler(method(), errorData);\n  dispatch(setActionPending(false));\n\n  if (response.type === 'ERROR') {\n    dispatch(setError(response.data));\n    throw new Error(response.data);\n  }\n  return response.data;\n};\n\nconst { createPayload, getPayload, updatePayload, exportPayload } = useInvoicePayloadCreators();\n\nconst invoiceSlice = createSlice({\n  name: 'invoice',\n  initialState,\n  reducers: {\n    setActionPending(state, action) {\n      state.actionPending = action.payload;\n    },\n    setError(state, action) {\n      state.actionPending = false;\n      state.error = action.payload;\n    },\n    setEditorData(state, action) {\n      state.editorData = action.payload;\n    },\n    setOldEditorData(state, action) {\n      state.oldEditorData = action.payload;\n    },\n    addItem(state, action) {\n      state.editorData.items.push(action.payload);\n    },\n    updateItem(state, action) {\n      const index = state.editorData.items.findIndex(x => x.editorId === action.payload.editorId);\n      state.editorData.items[index] = action.payload;\n    },\n    deleteItem(state, action) {\n      const index = state.editorData.items.findIndex(x => x.editorId === action.payload);\n      state.editorData.items.splice(index, 1);\n    }\n  },\n  extraReducers: {\n    [getInvoices.fulfilled]: (state, action) => {\n      const { invoices, employees, counterparties } = action.payload;\n      state.invoiceData = invoices;\n      state.employeeData = employees;\n      state.counterpartyData = counterparties;\n    },\n    [deleteInvoice.fulfilled]: (state, action) => {\n      state.invoiceData = state.invoiceData.filter(x => x.id !== action.payload);\n    },\n    [getProducts.fulfilled]: (state, action) => {\n      state.productData = action.payload;\n    },\n    [getInvoiceItems.fulfilled]: (state, action) => {\n      state.editorData.items = action.payload;\n      state.oldEditorData = { ...state.editorData };\n    }\n  }\n});\n\nexport const {\n  setActionPending,\n  setError,\n  setEditorData,\n  setOldEditorData,\n  addItem,\n  updateItem,\n  deleteItem\n} = invoiceSlice.actions;\n\nexport default invoiceSlice.reducer;\n","import { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport add from 'date-fns/add';\nimport useDidUpdateEffect from '../../../../../../../hooks/useDidUpdateEffect';\nimport { setEditorData } from '../../../../../../../slices/invoiceSlice';\nimport { getNumber, getType } from '../../../../../../../utils/editorUtils';\n\nconst useActions = type => {\n  const dispatch = useDispatch();\n\n  const editorData = useSelector(state => state.invoice.editorData);\n\n  const invoices = useSelector(state => state.invoice.invoiceData);\n\n  useEffect(() => {\n    editorData.id || initialize();\n    // eslint-disable-next-line\n  }, []);\n\n  useDidUpdateEffect(() => {\n    setDates();\n  }, [editorData.date]);\n\n  const initialize = () => {\n    const paymentType = type === getType('receipt') ? null : 0;\n    dispatch(setEditorData({ ...editorData, type: type, paymentType, ...getNewDateProps() }));\n  };\n\n  const update = (property, isEmployee) => event => {\n    const value = event.target ? event.target.value : event;\n    isEmployee\n      ? dispatch(\n          setEditorData({ ...editorData, employee: { ...editorData.employee, [property]: value } })\n        )\n      : dispatch(setEditorData({ ...editorData, [property]: value }));\n  };\n\n  const select = employee => {\n    dispatch(setEditorData({ ...editorData, employee: employee }));\n  };\n\n  const setDates = () => {\n    dispatch(setEditorData({ ...editorData, ...getNewDateProps() }));\n  };\n\n  const getNewDateProps = () => {\n    const number = getNumber(type, editorData.date, invoices);\n\n    return {\n      number,\n      paymentDeadline:\n        type !== getType('receipt')\n          ? add(new Date(editorData.date), { days: 7 }).toISOString()\n          : null\n    };\n  };\n\n  return { update, select, editorData };\n};\n\nexport default useActions;\n","import React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Box, Grid, Typography } from '@material-ui/core';\nimport useFields from './fields';\nimport useActions from './actions';\n\nconst Details = ({ type }) => {\n  const { t } = useTranslation();\n\n  const fields = useFields(useActions(type));\n\n  return (\n    <>\n      <div className='d-flex'>\n        <Typography variant='h6'>{t('invoices.editor.details')}</Typography>\n        {fields.Clear}\n      </div>\n      <Box mt={2}>\n        <Grid container spacing={2}>\n          <Grid xs={12} sm={6} item>\n            {fields.Number}\n          </Grid>\n          <Grid xs={12} sm={6} item>\n            {fields.Date}\n          </Grid>\n          <Grid xs={6} item>\n            {fields.FullName}\n          </Grid>\n          <Grid xs={6} item>\n            {fields.PhoneNumber}\n          </Grid>\n        </Grid>\n      </Box>\n    </>\n  );\n};\n\nexport default Details;\n","import React from 'react';\nimport { Button as MaterialButton } from '@material-ui/core';\n\nconst Button = ({ label, ...props }) => {\n  return (\n    <MaterialButton variant='outlined' color='primary' size='large' {...props}>\n      {label}\n    </MaterialButton>\n  );\n};\n\nexport default Button;\n","export const calculateGrossPrice = (netPrice, vatRate) => {\n  return roundValue(netPrice * getVatRate(vatRate));\n};\n\nexport const calculateNetPrice = (grossPrice, vatRate) => {\n  return roundValue(grossPrice / getVatRate(vatRate));\n};\n\nexport const getPropertyTotal = (property, items) =>\n  items.reduce((prev, curr) => prev + Number(curr[property]) * Number(curr.count), 0) || 0;\n\nconst roundValue = value => (isNaN(value) ? undefined : Number(Math.round(value + 'e2') + 'e-2'));\n\nconst getVatRate = vatRate => {\n  switch (vatRate) {\n    case 0:\n      return 1.23;\n    case 1:\n      return 1.08;\n    case 2:\n      return 1.05;\n    default:\n      return 1.0;\n  }\n};\n","import { makeStyles } from '@material-ui/core';\n\nconst useStyles = makeStyles(theme => ({\n  bottomContainer: {\n    display: 'flex',\n    flexWrap: 'wrap',\n    justifyContent: 'space-between',\n    alignItems: 'flex-start'\n  },\n  addButton: {\n    marginRight: theme.spacing(2),\n    marginBottom: theme.spacing(2)\n  },\n  summaryContainer: {\n    padding: theme.spacing(3),\n    textAlign: 'end'\n  }\n}));\n\nexport default useStyles;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport { Paper, Typography } from '@material-ui/core';\nimport { getPropertyTotal } from '../../../../../../../utils/priceUtils';\nimport useStyles from './styles';\n\nconst Summary = () => {\n  const { t } = useTranslation();\n\n  const items = useSelector(state => state.invoice.editorData.items);\n\n  const netTotal = getPropertyTotal('netPrice', items);\n\n  const grossTotal = getPropertyTotal('grossPrice', items);\n\n  const classes = useStyles();\n\n  return (\n    <Paper variant='outlined' className={classes.summaryContainer}>\n      <Typography variant='body1'>\n        {t('invoices.editor.netTotal', { sum: netTotal.toFixed(2) })}\n      </Typography>\n      <Typography variant='body1'>\n        {t('invoices.editor.vatTotal', { sum: (grossTotal - netTotal).toFixed(2) })}\n      </Typography>\n      <Typography variant='body1' color='primary'>\n        {t('invoices.editor.grossTotal', { sum: grossTotal.toFixed(2) })}\n      </Typography>\n    </Paper>\n  );\n};\n\nexport default Summary;\n","import { useDispatch } from 'react-redux';\nimport { unwrapResult } from '@reduxjs/toolkit';\n\nconst useHandleAction = () => {\n  const dispatch = useDispatch();\n\n  const handleAction = async ({ action, onSuccess, rejectOnError = false }) => {\n    await dispatch(action)\n      .then(unwrapResult)\n      .then(result => onSuccess && onSuccess(result))\n      .catch(_ => {\n        if (rejectOnError) throw new Error();\n      });\n  };\n\n  return handleAction;\n};\n\nexport default useHandleAction;\n","import { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { nanoid } from '@reduxjs/toolkit';\nimport {\n  addItem,\n  updateItem,\n  deleteItem,\n  getInvoiceItems\n} from '../../../../../../../slices/invoiceSlice';\nimport { getProducts } from '../../../../../../../slices/invoiceSlice';\nimport useHandleAction from '../../../../../../../hooks/useHandleAction';\n\nconst useActions = () => {\n  const dispatch = useDispatch();\n\n  const handleAction = useHandleAction();\n\n  const editorData = useSelector(state => state.invoice.editorData);\n\n  const editorItems = editorData.items;\n\n  const initialItemData = () => {\n    return {\n      editorId: nanoid(),\n      name: '',\n      description: '',\n      count: '',\n      unit: '',\n      netPrice: '',\n      grossPrice: '',\n      vatRate: 0\n    };\n  };\n\n  useEffect(() => {\n    handleAction({\n      action: getProducts(),\n      onSuccess: () => editorData.id && dispatch(getInvoiceItems(editorData.id))\n    });\n    // eslint-disable-next-line\n  }, []);\n\n  useEffect(() => {\n    editorItems.length === 0 && add();\n    // eslint-disable-next-line\n  }, [editorItems]);\n\n  const add = () => {\n    dispatch(addItem(initialItemData()));\n  };\n\n  const update = (item, property) => e => {\n    const value = property === 'count' ? e.target.valueAsNumber : e.target.value;\n    dispatch(updateItem({ ...item, [property]: value }));\n  };\n\n  const remove = editorId => () => {\n    dispatch(deleteItem(editorId));\n  };\n\n  const select = (item, selectedItem) => {\n    dispatch(updateItem({ ...item, ...selectedItem }));\n  };\n\n  return { add, update, remove, select };\n};\n\nexport default useActions;\n","import { TextField } from '@material-ui/core';\nimport React from 'react';\n\nconst Picker = ({ children, ...props }) => {\n  return (\n    <TextField select variant='outlined' fullWidth {...props}>\n      {children}\n    </TextField>\n  );\n};\n\nexport default Picker;\n","import React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { MenuItem } from '@material-ui/core';\nimport Picker from '../Input/Picker';\n\nconst VatRatePicker = props => {\n  const { t } = useTranslation();\n\n  const vatRates = [\n    '23%',\n    '8%',\n    '5%',\n    '0%',\n    t('products.vatExempt'),\n    t('products.vatNotApplicable')\n  ];\n\n  return (\n    <Picker {...props}>\n      {vatRates.map((rate, index) => (\n        <MenuItem key={index} value={index}>\n          {rate}\n        </MenuItem>\n      ))}\n    </Picker>\n  );\n};\n\nexport default VatRatePicker;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport { Box, IconButton, Typography } from '@material-ui/core';\nimport { Delete } from '@material-ui/icons';\nimport Autocomplete from '../Input/Autocomplete';\nimport EditorTextField from '../Input/EditorTextField';\nimport VatRatePicker from './VatRatePicker';\nimport { calculateGrossPrice, calculateNetPrice } from '../../../../../../../utils/priceUtils';\n\nconst useFields = ({ update, select, remove }) => {\n  const { t } = useTranslation();\n\n  const products = useSelector(state => state.invoice.productData);\n\n  const onPriceChange = (fieldName, item) => e => {\n    const value = e.target.valueAsNumber;\n    const calculatedValue =\n      fieldName === 'netPrice'\n        ? calculateGrossPrice(value, item.vatRate)\n        : calculateNetPrice(value, item.vatRate);\n\n    const calculatedFieldName = fieldName === 'netPrice' ? 'grossPrice' : 'netPrice';\n    select(item, { [fieldName]: value, [calculatedFieldName]: calculatedValue });\n  };\n\n  const onVatRateChange = item => e => {\n    const value = e.target.value;\n\n    select(item, {\n      vatRate: value,\n      grossPrice: calculateGrossPrice(item.netPrice, value)\n    });\n  };\n\n  return item => {\n    return {\n      Name: (\n        <Autocomplete\n          disabled={Boolean(item.id)}\n          options={products}\n          getOptionLabel={item => item.name}\n          onChange={(_, value, reason) => reason === 'select-option' && select(item, value)}\n          inputValue={item.name}\n          renderOption={({ name, netPrice }) => (\n            <Typography variant='body1'>{`${name} (${netPrice.toFixed(2)} zł)`}</Typography>\n          )}\n          textProps={{\n            label: t('products.name'),\n            validators: ['required'],\n            onChange: update(item, 'name'),\n            value: item.name\n          }}\n        />\n      ),\n      Description: (\n        <EditorTextField\n          disabled={Boolean(item.id)}\n          label={t('products.description')}\n          onChange={update(item, 'description')}\n          value={item.description}\n        />\n      ),\n      Count: (\n        <EditorTextField\n          label={t('products.count')}\n          validators={['required', 'positiveInt']}\n          type='number'\n          onChange={update(item, 'count')}\n          value={item.count || ''}\n        />\n      ),\n      Unit: (\n        <EditorTextField\n          label={t('products.unit')}\n          validators={['required']}\n          onChange={update(item, 'unit')}\n          value={item.unit}\n        />\n      ),\n      NetPrice: (\n        <EditorTextField\n          disabled={Boolean(item.id)}\n          label={t('products.netPrice')}\n          validators={['currency']}\n          type='number'\n          onChange={onPriceChange('netPrice', item)}\n          value={item.netPrice || ''}\n        />\n      ),\n      GrossPrice: (\n        <EditorTextField\n          disabled={Boolean(item.id)}\n          label={t('products.grossPrice')}\n          validators={['currency']}\n          type='number'\n          onChange={onPriceChange('grossPrice', item)}\n          value={item.grossPrice || ''}\n        />\n      ),\n      VatRate: (\n        <VatRatePicker\n          disabled={Boolean(item.id)}\n          label={t('products.vatRate')}\n          onChange={onVatRateChange(item)}\n          value={item.vatRate}\n        />\n      ),\n      Delete: (\n        <Box mt={0.5} ml={1} mr={-2}>\n          <IconButton onClick={remove(item.editorId)}>\n            <Delete color='primary' />\n          </IconButton>\n        </Box>\n      )\n    };\n  };\n};\n\nexport default useFields;\n","import { useSelector } from 'react-redux';\nimport useActions from './actions';\nimport useFields from './fields';\n\nconst useItems = () => {\n  const actions = useActions();\n\n  const getFields = useFields(actions);\n\n  const editorItems = useSelector(state => state.invoice.editorData.items);\n\n  const itemRows = editorItems.map(item => {\n    return { editorId: item.editorId, fields: getFields(item) };\n  });\n\n  return { actions, itemRows };\n};\n\nexport default useItems;\n","import React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Box, Divider, Grid, Typography } from '@material-ui/core';\nimport Button from '../Input/Button';\nimport Summary from './Summary';\nimport useItems from './useItems';\nimport useStyles from './styles';\n\nconst Items = () => {\n  const { t } = useTranslation();\n\n  const { actions, itemRows } = useItems();\n\n  const classes = useStyles();\n\n  return (\n    <>\n      <Typography variant='h6'>{t('invoices.editor.products')}</Typography>\n      <Box mt={2} mb={4}>\n        {itemRows.map(({ editorId, fields }) => (\n          <div key={editorId}>\n            <Grid container spacing={2}>\n              <Grid item xs={12} xl={5}>\n                <Grid container spacing={2}>\n                  <Grid item xs={12} sm={6} xl={6}>\n                    {fields.Name}\n                  </Grid>\n                  <Grid item xs={12} sm={6} xl={6}>\n                    {fields.Description}\n                  </Grid>\n                </Grid>\n              </Grid>\n              <Grid item xs={12} xl={7}>\n                <Grid container spacing={2}>\n                  <Grid item xs={6} md={2} xl={2}>\n                    {fields.Count}\n                  </Grid>\n                  <Grid item xs={6} md={2} xl={2}>\n                    {fields.Unit}\n                  </Grid>\n                  <Grid item xs={6} md={3} xl={3}>\n                    {fields.NetPrice}\n                  </Grid>\n                  <Grid item xs={6} md={3} xl={3}>\n                    {fields.GrossPrice}\n                  </Grid>\n                  <Grid item xs={6} md={2} xl={2} className='d-flex'>\n                    {fields.VatRate}\n                    {fields.Delete}\n                  </Grid>\n                </Grid>\n              </Grid>\n            </Grid>\n            <Box my={3}>\n              <Divider />\n            </Box>\n          </div>\n        ))}\n        <div className={classes.bottomContainer}>\n          <Button label={t('table.add')} onClick={actions.add} className={classes.addButton} />\n          <Summary />\n        </div>\n      </Box>\n    </>\n  );\n};\n\nexport default Items;\n","import React from 'react';\nimport { Box, Grid } from '@material-ui/core';\nimport Details from './Common/Details';\nimport Items from './Common/Items';\nimport { getType } from '../../../../../utils/editorUtils';\n\nconst Receipt = () => {\n  return (\n    <>\n      <Box mb={4}>\n        <Grid container>\n          <Grid item xs={12} lg={5}>\n            <Details type={getType('receipt')} />\n          </Grid>\n        </Grid>\n      </Box>\n      <Items />\n    </>\n  );\n};\n\nexport default Receipt;\n","import { useDispatch, useSelector } from 'react-redux';\nimport { setEditorData } from '../../../../../../../slices/invoiceSlice';\n\nconst useActions = () => {\n  const dispatch = useDispatch();\n\n  const editorData = useSelector(state => state.invoice.editorData);\n\n  const counterparty = editorData.counterparty;\n\n  const update = property => e => {\n    dispatch(\n      setEditorData({\n        ...editorData,\n        counterparty: { ...counterparty, [property]: e.target.value }\n      })\n    );\n  };\n\n  const select = counterparty => {\n    dispatch(setEditorData({ ...editorData, counterparty: counterparty }));\n  };\n\n  return { update, select, counterparty };\n};\n\nexport default useActions;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport Autocomplete from '../Input/Autocomplete';\nimport ClearButton from '../Input/ClearButton';\nimport EditorTextField from '../Input/EditorTextField';\n\nconst useFields = ({ update, select, counterparty }) => {\n  const { t } = useTranslation();\n\n  const counterparties = useSelector(state => state.invoice.counterpartyData);\n\n  const getAutocomplete = (property, label) => (\n    <Autocomplete\n      disabled={Boolean(counterparty?.id)}\n      options={counterparties}\n      getOptionLabel={counterparty => counterparty[property]}\n      onChange={(_, value, reason) => reason === 'select-option' && select(value)}\n      inputValue={counterparty?.[property] || ''}\n      textProps={{\n        label: label,\n        validators: [property === 'nip' ? 'validNip' : 'required'],\n        onChange: update(property),\n        value: counterparty?.[property]\n      }}\n    />\n  );\n\n  return {\n    Name: getAutocomplete('name', t('counterparties.name')),\n    Nip: getAutocomplete('nip', t('counterparties.nip')),\n    Address: (\n      <EditorTextField\n        disabled={Boolean(counterparty?.id)}\n        label={t('counterparties.address')}\n        validators={['required']}\n        onChange={update('address')}\n        value={counterparty?.address || ''}\n      />\n    ),\n    PostalCode: (\n      <EditorTextField\n        disabled={Boolean(counterparty?.id)}\n        label={t('counterparties.postalCode')}\n        validators={['postalCode']}\n        onChange={update('postalCode')}\n        value={counterparty?.postalCode || ''}\n      />\n    ),\n    City: (\n      <EditorTextField\n        disabled={Boolean(counterparty?.id)}\n        label={t('counterparties.city')}\n        validators={['required']}\n        onChange={update('city')}\n        value={counterparty?.city || ''}\n      />\n    ),\n    Clear: <ClearButton onClick={() => select(null)} />\n  };\n};\n\nexport default useFields;\n","import React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Box, Grid, Typography } from '@material-ui/core';\nimport useActions from './actions';\nimport useFields from './fields';\n\nconst Counterparty = () => {\n  const { t } = useTranslation();\n\n  const fields = useFields(useActions());\n\n  return (\n    <>\n      <div className='d-flex'>\n        <Typography variant='h6'>{t('invoices.editor.counterparty')}</Typography>\n        {fields.Clear}\n      </div>\n      <Box mt={2} mb={4}>\n        <Grid container spacing={2}>\n          <Grid item xs={12} sm={8}>\n            {fields.Name}\n          </Grid>\n          <Grid item xs={12} sm={4}>\n            {fields.Nip}\n          </Grid>\n          <Grid item xs={12} sm={5}>\n            {fields.Address}\n          </Grid>\n          <Grid item xs={6} sm={3}>\n            {fields.PostalCode}\n          </Grid>\n          <Grid item xs={6} sm={4}>\n            {fields.City}\n          </Grid>\n        </Grid>\n      </Box>\n    </>\n  );\n};\n\nexport default Counterparty;\n","import { useDispatch, useSelector } from 'react-redux';\nimport { setEditorData } from '../../../../../../../slices/invoiceSlice';\n\nconst useActions = () => {\n  const dispatch = useDispatch();\n\n  const editorData = useSelector(state => state.invoice.editorData);\n\n  const update = property => event => {\n    const value = event.target ? event.target.value : event;\n    dispatch(setEditorData({ ...editorData, [property]: value }));\n  };\n\n  return { update, editorData };\n};\n\nexport default useActions;\n","import React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Box, Grid, MenuItem, Typography } from '@material-ui/core';\nimport DatePicker from '../Input/DatePicker';\nimport Picker from '../Input/Picker';\nimport useActions from './actions';\n\nconst Payment = () => {\n  const { t } = useTranslation();\n\n  const paymentTypes = t('invoices.paymentTypes', { returnObjects: true });\n\n  const { update, editorData } = useActions();\n\n  return (\n    <>\n      <Typography variant='h6'>{t('invoices.editor.payment')}</Typography>\n      <Box mt={2} mb={4}>\n        <Grid container spacing={2}>\n          <Grid item xs={12} sm={6} lg={3} xl={2}>\n            <Picker\n              label={t('invoices.paymentType')}\n              onChange={update('paymentType')}\n              value={editorData.paymentType || 0}>\n              {paymentTypes.map((value, index) => (\n                <MenuItem key={index} value={index}>\n                  {value}\n                </MenuItem>\n              ))}\n            </Picker>\n          </Grid>\n          <Grid item xs={12} sm={6} lg={3} xl={2}>\n            <DatePicker\n              minDate={Boolean(editorData.id) && new Date(editorData.date)}\n              label={t('invoices.deadline')}\n              onChange={update('paymentDeadline')}\n              value={new Date(editorData.paymentDeadline)}\n            />\n          </Grid>\n        </Grid>\n      </Box>\n    </>\n  );\n};\n\nexport default Payment;\n","import React from 'react';\nimport { Grid } from '@material-ui/core';\nimport Counterparty from './Common/Counterparty';\nimport Details from './Common/Details';\nimport Payment from './Common/Payment';\nimport Items from './Common/Items';\n\nconst Invoice = ({ type }) => {\n  return (\n    <>\n      <Grid container spacing={4}>\n        <Grid item xs={12} lg={5}>\n          <Details type={type} />\n        </Grid>\n        <Grid item xs={12} lg={7}>\n          <Counterparty />\n        </Grid>\n      </Grid>\n      <Items />\n      <Payment />\n    </>\n  );\n};\n\nexport default Invoice;\n","import { makeStyles } from '@material-ui/core';\n\nconst useStyles = makeStyles(theme => ({\n  contentContainer: {\n    margin: theme.spacing(3, 0)\n  }\n}));\n\nexport default useStyles;\n","import React from 'react';\nimport { Route } from 'react-router-dom';\nimport Receipt from './Receipt';\nimport Invoice from './Invoice';\nimport { getType } from '../../../../../utils/editorUtils';\nimport useStyles from './styles';\n\nconst Content = () => {\n  const classes = useStyles();\n\n  const getRender = type => props => <Invoice {...props} type={getType(type)} />;\n\n  return (\n    <div className={classes.contentContainer}>\n      <Route exact path='/invoices/vat' render={getRender('vat')} />\n      <Route exact path='/invoices/proforma' render={getRender('proforma')} />\n      <Route exact path='/invoices/receipt' component={Receipt} />\n    </div>\n  );\n};\n\nexport default Content;\n","import { makeStyles } from '@material-ui/core';\n\nconst useStyles = makeStyles(theme => ({\n  backdrop: {\n    zIndex: theme.zIndex.drawer + 1,\n    [theme.breakpoints.up('lg')]: {\n      paddingLeft: 252\n    }\n  },\n  editorContainer: {\n    margin: theme.spacing(3, 0),\n    padding: theme.spacing(3)\n  },\n  footerDivider: {\n    margin: theme.spacing(0, -3)\n  },\n  footerContainer: {\n    marginTop: theme.spacing(3),\n    width: '100%',\n    display: 'flex',\n    justifyContent: 'flex-end'\n  }\n}));\n\nexport default useStyles;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next';\nimport { Box, Button, Divider } from '@material-ui/core';\nimport SubmitButton from '../../../common/SubmitButton/SubmitButton';\nimport useStyles from './styles';\n\nconst Footer = () => {\n  const { t } = useTranslation();\n\n  const classes = useStyles();\n\n  return (\n    <>\n      <Divider className={classes.footerDivider} />\n      <div className={classes.footerContainer}>\n        <Box mr={1}>\n          <SubmitButton text={t('save')} />\n        </Box>\n        <Button component={Link} to='/invoices' variant='outlined' color='primary' size='large'>\n          {t('cancel')}\n        </Button>\n      </div>\n    </>\n  );\n};\n\nexport default Footer;\n","import { useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  createInvoice,\n  setEditorData,\n  setError,\n  updateInvoice\n} from '../../../../slices/invoiceSlice';\nimport useHandleAction from '../../../../hooks/useHandleAction';\nimport { initialEditorData } from '../../../../utils/editorUtils';\nimport { getPropertyTotal } from '../../../../utils/priceUtils';\n\nconst useEditor = () => {\n  const dispatch = useDispatch();\n\n  const history = useHistory();\n\n  const handleAction = useHandleAction();\n\n  const editorData = useSelector(state => state.invoice.editorData);\n\n  const oldEditorData = useSelector(state => state.invoice.oldEditorData);\n\n  const actionPending = useSelector(state => state.invoice.actionPending);\n\n  const error = useSelector(state => state.invoice.error);\n\n  useEffect(() => {\n    return () => dispatch(setEditorData(initialEditorData));\n    // eslint-disable-next-line\n  }, []);\n\n  const onErrorDialogClose = () => {\n    dispatch(setError(null));\n    if (editorData.id && (error === 'getProducts' || error === 'getInvoiceItems')) {\n      history.replace('/invoices');\n    }\n  };\n\n  const onSubmit = e => {\n    e.preventDefault();\n\n    const payload = {\n      ...editorData,\n      netTotal: getPropertyTotal('netPrice', editorData.items),\n      grossTotal: getPropertyTotal('grossPrice', editorData.items)\n    };\n\n    const action = editorData.id\n      ? updateInvoice({ oldInvoice: oldEditorData, invoice: payload })\n      : createInvoice(payload);\n\n    handleAction({ action: action, onSuccess: () => history.replace('/invoices') });\n  };\n\n  return { onSubmit, actionPending, error, onErrorDialogClose };\n};\n\nexport default useEditor;\n","import React from 'react';\nimport { Paper } from '@material-ui/core';\nimport ErrorDialog from '../../../common/ErrorDialog';\nimport ValidatorForm from '../../../common/ValidatorForm';\nimport LoadingBackdrop from './LoadingBackdrop';\nimport Header from './Header';\nimport Content from './Content';\nimport Footer from './Footer';\nimport useEditor from './useEditor';\nimport useStyles from './styles';\n\nconst Editor = () => {\n  const { onSubmit, actionPending, error, onErrorDialogClose } = useEditor();\n\n  const classes = useStyles();\n\n  return (\n    <>\n      <LoadingBackdrop actionPending={actionPending} className={classes.backdrop} />\n      <ErrorDialog error={error} onClose={onErrorDialogClose} />\n      <Paper className={classes.editorContainer}>\n        <ValidatorForm onSubmit={onSubmit} noValidate>\n          <Header />\n          <Content />\n          <Footer />\n        </ValidatorForm>\n      </Paper>\n    </>\n  );\n};\n\nexport default Editor;\n","import React, { forwardRef } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { AddCircle, Check, Clear, Delete, Edit } from '@material-ui/icons';\nimport useHandleAction from '../../../hooks/useHandleAction';\nimport { filterProperties } from '../../../utils/dataUtils';\n\nconst useConfig = editableConfig => {\n  const { t } = useTranslation();\n\n  const handleAction = useHandleAction();\n\n  const options = {\n    searchFieldVariant: 'outlined',\n    addRowPosition: 'first',\n    tableLayout: 'fixed',\n    draggable: false\n  };\n\n  const getIcon = (Component, iconProps) =>\n    forwardRef((props, ref) => <Component {...props} ref={ref} color='primary' {...iconProps} />);\n\n  const icons = {\n    Add: getIcon(AddCircle, { fontSize: 'large' }),\n    Check: getIcon(Check),\n    Clear: getIcon(Clear),\n    Delete: getIcon(Delete),\n    Edit: getIcon(Edit),\n    ResetSearch: getIcon(Clear, { style: { marginRight: -16 }, color: 'inherit' })\n  };\n\n  const localization = {\n    body: {\n      emptyDataSourceMessage: t('table.empty'),\n      addTooltip: t('table.add'),\n      deleteTooltip: t('table.delete'),\n      editTooltip: t('table.edit'),\n      filterRow: {\n        filterTooltip: t('table.filter')\n      },\n      editRow: {\n        deleteText: t('table.deleteText'),\n        cancelTooltip: t('table.cancel'),\n        saveTooltip: t('table.save')\n      }\n    },\n    header: {\n      actions: t('table.actions')\n    },\n    pagination: {\n      labelDisplayedRows: t('table.rows'),\n      labelRowsSelect: t('table.rowsSelect'),\n      labelRowsPerPage: t('table.rowsPerPage'),\n      firstAriaLabel: t('table.first'),\n      firstTooltip: t('table.first'),\n      previousAriaLabel: t('table.previous'),\n      previousTooltip: t('table.previous'),\n      nextAriaLabel: t('table.next'),\n      nextTooltip: t('table.next'),\n      lastAriaLabel: t('table.last'),\n      lastTooltip: t('table.last')\n    },\n    toolbar: {\n      nRowsSelected: t('table.rowsSelected'),\n      searchTooltip: t('table.search'),\n      searchPlaceholder: t('table.search')\n    }\n  };\n\n  let editable = null;\n\n  if (editableConfig) {\n    const { createAction, updateAction, deleteAction } = editableConfig;\n\n    editable = {\n      onRowAdd: newRow => handleAction({ action: createAction(newRow), rejectOnError: true }),\n      onRowUpdate: async (newRow, oldRow) => {\n        const updateData = filterProperties(oldRow, newRow);\n\n        if (updateData) {\n          await handleAction({\n            action: updateAction({ id: newRow.id, ...updateData }),\n            rejectOnError: true\n          });\n        }\n      },\n      onRowDelete: deletedRow =>\n        handleAction({ action: deleteAction(deletedRow.id), rejectOnError: true })\n    };\n  }\n\n  return { options, icons, localization, editable };\n};\n\nexport default useConfig;\n","import { makeStyles } from '@material-ui/core';\n\nconst useStyles = makeStyles(theme => ({\n  tableContainer: {\n    margin: theme.spacing(3, 0),\n    width: '100%'\n  }\n}));\n\nexport default useStyles;\n","import React from 'react';\nimport MaterialTable from 'material-table';\nimport useConfig from './config';\nimport useStyles from './styles';\n\nconst DataTable = ({ data, editableConfig = null, ...props }) => {\n  const { options, icons, localization, editable } = useConfig(editableConfig);\n\n  const classes = useStyles();\n\n  return (\n    <div className={classes.tableContainer}>\n      <MaterialTable\n        data={data}\n        options={options}\n        icons={icons}\n        localization={localization}\n        editable={editable}\n        {...props}\n      />\n    </div>\n  );\n};\n\nexport default DataTable;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport { Menu, MenuItem } from '@material-ui/core';\nimport { exportInvoice, setEditorData } from '../../../../slices/invoiceSlice';\nimport { getId } from '../../../../utils/editorUtils';\n\nconst ActionMenu = ({ anchor, menuData, closeMenu, openDeleteDialog }) => {\n  const { t } = useTranslation();\n\n  const dispatch = useDispatch();\n\n  const editorData = useSelector(state => state.invoice.editorData);\n\n  const { id, type } = menuData || {};\n\n  const handleEdit = () => {\n    const { tableData, ...data } = menuData;\n    dispatch(setEditorData({ ...editorData, ...data }));\n  };\n\n  const handleDelete = () => {\n    closeMenu();\n    openDeleteDialog(id);\n  };\n\n  const handleExport = () => {\n    closeMenu();\n    dispatch(exportInvoice(menuData));\n  };\n\n  const editLink = type !== undefined && `/invoices/${getId(type)}`;\n\n  return (\n    <Menu anchorEl={anchor} open={Boolean(anchor)} onClose={closeMenu}>\n      <MenuItem component={Link} to={editLink} onClick={handleEdit}>\n        {t('table.edit')}\n      </MenuItem>\n      <MenuItem onClick={handleDelete}>{t('table.delete')}</MenuItem>\n      <MenuItem onClick={handleExport}>{t('table.export')}</MenuItem>\n    </Menu>\n  );\n};\n\nexport default ActionMenu;\n","import React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport { Menu, MenuItem } from '@material-ui/core';\nimport { setError } from '../../../../slices/invoiceSlice';\n\nconst CreateMenu = ({ anchor, closeMenu }) => {\n  const { t } = useTranslation();\n\n  const dispatch = useDispatch();\n\n  const history = useHistory();\n\n  const options = t('invoices.options', { returnObjects: true });\n\n  const userData = useSelector(state => state.user.userData);\n\n  const handleCreate = id => () => {\n    if (userData.nip === null) {\n      closeMenu();\n      dispatch(setError('createInvoice'));\n      return;\n    }\n    history.replace(`/invoices/${id}`);\n  };\n\n  return (\n    <Menu anchorEl={anchor} open={Boolean(anchor)} onClose={closeMenu}>\n      {options.map((option, index) => (\n        <MenuItem key={index} onClick={handleCreate(option.id)}>\n          {option.label}\n        </MenuItem>\n      ))}\n    </Menu>\n  );\n};\n\nexport default CreateMenu;\n","import React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport { Button, DialogContentText } from '@material-ui/core';\nimport Dialog from '../../../common/Dialog';\nimport { deleteInvoice } from '../../../../slices/invoiceSlice';\n\nconst DeleteDialog = ({ open, onClose, id }) => {\n  const { t } = useTranslation();\n\n  const dispatch = useDispatch();\n\n  const deleteRecord = () => {\n    dispatch(deleteInvoice(id));\n    onClose();\n  };\n\n  return (\n    <Dialog\n      open={open}\n      onClose={onClose}\n      title={t('table.delete')}\n      content={<DialogContentText>{t('table.deleteText')}</DialogContentText>}\n      actions={\n        <>\n          <Button onClick={deleteRecord} color='primary'>\n            {t('table.delete')}\n          </Button>\n          <Button onClick={onClose} color='primary'>\n            {t('table.cancel')}\n          </Button>\n        </>\n      }\n    />\n  );\n};\n\nexport default DeleteDialog;\n","import React, { forwardRef } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { AddCircle, MoreHoriz } from '@material-ui/icons';\nimport useDropdownMenu from '../../../../hooks/useDropdownMenu';\nimport useDialog from '../../../../hooks/useDialog';\n\nconst useConfig = () => {\n  const { t } = useTranslation();\n\n  const dialog = useDialog();\n\n  const createMenu = useDropdownMenu();\n\n  const actionMenu = useDropdownMenu();\n\n  const currencySettings = {\n    type: 'currency',\n    align: 'left',\n    currencySetting: {\n      locale: 'pl',\n      currencyCode: 'PLN'\n    }\n  };\n\n  const columns = [\n    {\n      title: t('invoices.date'),\n      field: 'date',\n      type: 'date',\n      width: 190\n    },\n    {\n      title: t('invoices.number'),\n      field: 'number',\n      width: 190\n    },\n    {\n      title: t('invoices.counterparty'),\n      field: 'counterparty.name',\n      width: 190\n    },\n    {\n      title: t('invoices.netTotal'),\n      field: 'netTotal',\n      ...currencySettings,\n      width: 190\n    },\n    {\n      title: t('invoices.grossTotal'),\n      field: 'grossTotal',\n      ...currencySettings,\n      width: 190\n    },\n    {\n      title: t('invoices.issuer'),\n      field: 'employee.fullName',\n      width: 190\n    }\n  ];\n\n  const getIcon = (Component, iconProps) =>\n    forwardRef((props, ref) => <Component {...props} ref={ref} color='primary' {...iconProps} />);\n\n  const actions = [\n    {\n      icon: getIcon(AddCircle, { fontSize: 'large' }),\n      tooltip: t('table.add'),\n      isFreeAction: true,\n      onClick: createMenu.openMenu\n    },\n    {\n      icon: getIcon(MoreHoriz),\n      tooltip: t('table.more'),\n      onClick: (event, rowData) => actionMenu.openMenu(event, rowData)\n    }\n  ];\n\n  return { columns, actions, dialog, createMenu, actionMenu };\n};\n\nexport default useConfig;\n","import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport DataTable from '../../../common/DataTable';\nimport ActionMenu from './ActionMenu';\nimport CreateMenu from './CreateMenu';\nimport DeleteDialog from './DeleteDialog';\nimport ErrorDialog from '../../../common/ErrorDialog';\nimport { getInvoices, setError } from '../../../../slices/invoiceSlice';\nimport useConfig from './config';\n\nconst InvoiceTable = () => {\n  const { t } = useTranslation();\n\n  const dispatch = useDispatch();\n\n  const invoices = useSelector(state => state.invoice.invoiceData);\n\n  const actionPending = useSelector(state => state.invoice.actionPending);\n\n  const error = useSelector(state => state.invoice.error);\n\n  const { columns, actions, dialog, createMenu, actionMenu } = useConfig();\n\n  useEffect(() => {\n    dispatch(getInvoices());\n    // eslint-disable-next-line\n  }, []);\n\n  return (\n    <>\n      <ErrorDialog error={error} clearAction={setError} />\n      <CreateMenu anchor={createMenu.anchor} closeMenu={createMenu.closeMenu} />\n      <ActionMenu\n        anchor={actionMenu.anchor}\n        menuData={actionMenu.menuData}\n        closeMenu={actionMenu.closeMenu}\n        openDeleteDialog={dialog.openDialog}\n      />\n      <DeleteDialog\n        open={dialog.isDialogOpen}\n        onClose={dialog.closeDialog}\n        id={dialog.dialogData}\n      />\n      <DataTable\n        title={t('invoices.title')}\n        isLoading={actionPending}\n        data={invoices}\n        columns={columns}\n        actions={actions}\n      />\n    </>\n  );\n};\n\nexport default InvoiceTable;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport { Box, Button, Typography } from '@material-ui/core';\n\nconst NotFound = () => {\n  const { t } = useTranslation();\n\n  const isLoggedIn = useSelector(state => state.user.isLoggedIn);\n\n  return (\n    <Box mt={3} className='text-center'>\n      <Typography variant='h1' color='primary'>\n        404\n      </Typography>\n      <Typography variant='h2'>{t('notFound.header')}</Typography>\n      <Box my={2}>\n        <Typography variant='h6' color='textSecondary'>\n          {t('notFound.description')}\n        </Typography>\n      </Box>\n      <Button\n        component={Link}\n        to={isLoggedIn ? '/invoices' : '/'}\n        variant='contained'\n        color='primary'>\n        {t('notFound.button')}\n      </Button>\n    </Box>\n  );\n};\n\nexport default NotFound;\n","import React from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport Editor from './Editor';\nimport InvoiceTable from './InvoiceTable';\nimport NotFound from '../NotFound';\n\nconst Invoices = () => {\n  const validEditorPaths = ['/invoices/vat', '/invoices/proforma', '/invoices/receipt'];\n\n  return (\n    <Switch>\n      <Route exact path='/invoices' component={InvoiceTable} />\n      <Route exact path={validEditorPaths} component={Editor} />\n      <Route component={NotFound} />\n    </Switch>\n  );\n};\n\nexport default Invoices;\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport webInvoicerApi from '../apis/webInvoicerApi';\nimport apiHandler from '../apis/apiHandler';\n\nconst initialState = {\n  actionPending: false,\n  error: null,\n  productData: []\n};\n\nexport const createProduct = createAsyncThunk('product/create', async (product, { dispatch }) => {\n  return await handleAction(\n    {\n      method: () => webInvoicerApi().post('Products', product),\n      errorData: 'create'\n    },\n    dispatch\n  );\n});\n\nexport const getProducts = createAsyncThunk('product/get', async (_, { dispatch }) => {\n  return await handleAction(\n    {\n      method: () => webInvoicerApi().get('Products'),\n      errorData: 'get'\n    },\n    dispatch\n  );\n});\n\nexport const updateProduct = createAsyncThunk('product/update', async (product, { dispatch }) => {\n  return await handleAction(\n    {\n      method: () => webInvoicerApi().put('Products', product),\n      errorData: 'update'\n    },\n    dispatch\n  );\n});\n\nexport const deleteProduct = createAsyncThunk('product/delete', async (id, { dispatch }) => {\n  await handleAction(\n    {\n      method: () => webInvoicerApi().delete(`Products/${id}`),\n      errorData: 'delete'\n    },\n    dispatch\n  );\n\n  return id;\n});\n\nconst handleAction = async ({ method, errorData }, dispatch) => {\n  dispatch(setActionPending(true));\n  const response = await apiHandler(method(), errorData);\n  dispatch(setActionPending(false));\n\n  if (response.type === 'ERROR') {\n    dispatch(setError(response.data));\n    throw new Error(response.data);\n  }\n  return response.data;\n};\n\nconst productSlice = createSlice({\n  name: 'product',\n  initialState,\n  reducers: {\n    setActionPending(state, action) {\n      state.actionPending = action.payload;\n    },\n    setError(state, action) {\n      state.error = action.payload;\n    }\n  },\n  extraReducers: {\n    [createProduct.fulfilled]: (state, action) => {\n      state.productData.push(action.payload);\n    },\n    [getProducts.fulfilled]: (state, action) => {\n      state.productData = action.payload;\n    },\n    [updateProduct.fulfilled]: (state, action) => {\n      const index = state.productData.findIndex(x => x.id === action.payload.id);\n      state.productData[index] = action.payload;\n    },\n    [deleteProduct.fulfilled]: (state, action) => {\n      state.productData = state.productData.filter(x => x.id !== action.payload);\n    }\n  }\n});\n\nexport const { setActionPending, setError } = productSlice.actions;\n\nexport default productSlice.reducer;\n","import React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { MTableEditField } from 'material-table';\nimport { createProduct, deleteProduct, updateProduct } from '../../../slices/productSlice';\nimport useValidation from '../../../hooks/useValidation';\nimport { calculateGrossPrice, calculateNetPrice } from '../../../utils/priceUtils';\n\nconst useConfig = () => {\n  const { t } = useTranslation();\n\n  const { required, validate } = useValidation();\n\n  const currencySettings = fieldName => {\n    return {\n      type: 'currency',\n      align: 'left',\n      currencySetting: {\n        locale: 'pl',\n        currencyCode: 'PLN'\n      },\n      editComponent: currencyEditComponent(fieldName)\n    };\n  };\n\n  const currencyEditComponent = fieldName => props => (\n    <MTableEditField {...props} onChange={onPriceChange(fieldName, props)} />\n  );\n\n  const vatRateEditComponent = props => (\n    <MTableEditField {...props} onChange={onVatRateChange(props)} />\n  );\n\n  const onPriceChange = (fieldName, { rowData, onRowDataChange }) => value => {\n    const calculatedValue =\n      fieldName === 'netPrice'\n        ? calculateGrossPrice(value, rowData.vatRate)\n        : calculateNetPrice(value, rowData.vatRate);\n\n    const calculatedFieldName = fieldName === 'netPrice' ? 'grossPrice' : 'netPrice';\n    onRowDataChange({\n      ...rowData,\n      [fieldName]: value,\n      [calculatedFieldName]: calculatedValue\n    });\n  };\n\n  const onVatRateChange = ({ rowData, onRowDataChange }) => value => {\n    const parsedValue = Number(value);\n\n    onRowDataChange({\n      ...rowData,\n      vatRate: parsedValue,\n      grossPrice: calculateGrossPrice(rowData.netPrice, parsedValue)\n    });\n  };\n\n  const columns = [\n    {\n      title: t('products.name'),\n      field: 'name',\n      width: 190,\n      validate: row => required(row.name)\n    },\n    { title: t('products.description'), field: 'description', width: 165 },\n    {\n      title: t('products.netPrice'),\n      field: 'netPrice',\n      width: 190,\n      ...currencySettings('netPrice'),\n      validate: row => validate('currency', row.netPrice, true)\n    },\n    {\n      title: t('products.grossPrice'),\n      field: 'grossPrice',\n      width: 190,\n      ...currencySettings('grossPrice'),\n      validate: row => validate('currency', row.grossPrice, true)\n    },\n    {\n      title: t('products.vatRate'),\n      field: 'vatRate',\n      width: 190,\n      initialEditValue: 0,\n      editComponent: vatRateEditComponent,\n      lookup: {\n        0: '23%',\n        1: '8%',\n        2: '5%',\n        3: '0%',\n        4: t('products.vatExempt'),\n        5: t('products.vatNotApplicable')\n      }\n    }\n  ];\n\n  const editableConfig = {\n    createAction: createProduct,\n    updateAction: updateProduct,\n    deleteAction: deleteProduct\n  };\n\n  return { columns, editableConfig };\n};\n\nexport default useConfig;\n","import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport DataTable from '../../common/DataTable';\nimport ErrorDialog from '../../common/ErrorDialog';\nimport { getProducts, setError } from '../../../slices/productSlice';\nimport useConfig from './config';\n\nconst Products = () => {\n  const { t } = useTranslation();\n\n  const dispatch = useDispatch();\n\n  const products = useSelector(state => state.product.productData);\n\n  const actionPending = useSelector(state => state.product.actionPending);\n\n  const error = useSelector(state => state.product.error);\n\n  const { columns, editableConfig } = useConfig();\n\n  useEffect(() => {\n    dispatch(getProducts());\n    // eslint-disable-next-line\n  }, []);\n\n  return (\n    <>\n      <ErrorDialog error={error} clearAction={setError} />\n      <DataTable\n        title={t('products.title')}\n        isLoading={actionPending}\n        data={products}\n        columns={columns}\n        editableConfig={editableConfig}\n      />\n    </>\n  );\n};\n\nexport default Products;\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport webInvoicerApi from '../apis/webInvoicerApi';\nimport apiHandler from '../apis/apiHandler';\n\nconst initialState = {\n  actionPending: false,\n  error: null,\n  counterpartyData: []\n};\n\nexport const createCounterparty = createAsyncThunk(\n  'counterparty/create',\n  async (counterparty, { dispatch }) => {\n    return await handleAction(\n      {\n        method: () => webInvoicerApi().post('Counterparties', counterparty),\n        errorData: 'create'\n      },\n      dispatch\n    );\n  }\n);\n\nexport const getCounterpartyDetails = createAsyncThunk(\n  'counterparty/getDetails',\n  async (nip, { dispatch }) => {\n    return await handleAction(\n      {\n        method: () => webInvoicerApi().get(`Counterparties/details/${nip}`),\n        errorData: 'details'\n      },\n      dispatch\n    );\n  }\n);\n\nexport const getCounterparties = createAsyncThunk('counterparty/get', async (_, { dispatch }) => {\n  return await handleAction(\n    {\n      method: () => webInvoicerApi().get('Counterparties'),\n      errorData: 'get'\n    },\n    dispatch\n  );\n});\n\nexport const updateCounterparty = createAsyncThunk(\n  'counterparty/update',\n  async (counterparty, { dispatch }) => {\n    return await handleAction(\n      {\n        method: () => webInvoicerApi().put('Counterparties', counterparty),\n        errorData: 'update'\n      },\n      dispatch\n    );\n  }\n);\n\nexport const deleteCounterparty = createAsyncThunk(\n  'counterparty/delete',\n  async (id, { dispatch }) => {\n    await handleAction(\n      {\n        method: () => webInvoicerApi().delete(`Counterparties/${id}`),\n        errorData: 'delete'\n      },\n      dispatch\n    );\n\n    return id;\n  }\n);\n\nconst handleAction = async ({ method, errorData }, dispatch) => {\n  dispatch(setActionPending(true));\n  const response = await apiHandler(method(), errorData);\n  dispatch(setActionPending(false));\n\n  if (response.type === 'ERROR') {\n    dispatch(setError(response.data));\n    throw new Error(response.data);\n  }\n  return response.data;\n};\n\nconst counterpartySlice = createSlice({\n  name: 'counterparty',\n  initialState,\n  reducers: {\n    setActionPending(state, action) {\n      state.actionPending = action.payload;\n    },\n    setError(state, action) {\n      state.error = action.payload;\n    }\n  },\n  extraReducers: {\n    [createCounterparty.fulfilled]: (state, action) => {\n      state.counterpartyData.push(action.payload);\n    },\n    [getCounterparties.fulfilled]: (state, action) => {\n      state.counterpartyData = action.payload;\n    },\n    [updateCounterparty.fulfilled]: (state, action) => {\n      const index = state.counterpartyData.findIndex(x => x.id === action.payload.id);\n      state.counterpartyData[index] = action.payload;\n    },\n    [deleteCounterparty.fulfilled]: (state, action) => {\n      state.counterpartyData = state.counterpartyData.filter(x => x.id !== action.payload);\n    }\n  }\n});\n\nexport const { setActionPending, setError } = counterpartySlice.actions;\n\nexport default counterpartySlice.reducer;\n","import { makeStyles } from '@material-ui/core';\n\nconst useStyles = makeStyles(theme => ({\n  nipEditContainer: {\n    width: '100%',\n    display: 'inline-flex',\n    alignItems: 'center'\n  },\n  nipEditButton: {\n    marginLeft: theme.spacing(1)\n  }\n}));\n\nexport default useStyles;\n","import React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { MTableEditField } from 'material-table';\nimport { IconButton } from '@material-ui/core';\nimport { CloudDownload } from '@material-ui/icons';\nimport {\n  createCounterparty,\n  deleteCounterparty,\n  getCounterpartyDetails,\n  updateCounterparty\n} from '../../../slices/counterpartySlice';\nimport useValidation from '../../../hooks/useValidation';\nimport useHandleAction from '../../../hooks/useHandleAction';\nimport useStyles from './styles';\n\nconst useConfig = () => {\n  const { t } = useTranslation();\n\n  const { required, validate } = useValidation();\n\n  const handleAction = useHandleAction();\n\n  const classes = useStyles();\n\n  const downloadDetails = ({ rowData, onRowDataChange, value }) => () => {\n    handleAction({\n      action: getCounterpartyDetails(value),\n      onSuccess: result => {\n        const { street, propertyNumber, apartmentNumber, ...rest } = result;\n        onRowDataChange({\n          ...rowData,\n          address: `${street} ${propertyNumber}${apartmentNumber && `/${apartmentNumber}`}`,\n          nip: value,\n          ...rest\n        });\n      }\n    });\n  };\n\n  const columns = [\n    {\n      title: t('counterparties.name'),\n      field: 'name',\n      width: 190,\n      validate: row => required(row.name)\n    },\n    {\n      title: t('counterparties.nip'),\n      field: 'nip',\n      width: 190,\n      validate: row => validate('validNip', row.nip, true),\n      editComponent: props => (\n        <div className={classes.nipEditContainer}>\n          <MTableEditField {...props} />\n          <IconButton\n            onClick={downloadDetails(props)}\n            color='primary'\n            disabled={Boolean(props.error)}\n            className={classes.nipEditButton}>\n            <CloudDownload />\n          </IconButton>\n        </div>\n      )\n    },\n    {\n      title: t('counterparties.address'),\n      field: 'address',\n      width: 190,\n      validate: row => required(row.address)\n    },\n    {\n      title: t('counterparties.postalCode'),\n      field: 'postalCode',\n      width: 190,\n      validate: row => validate('postalCode', row.postalCode, true)\n    },\n    {\n      title: t('counterparties.city'),\n      field: 'city',\n      width: 190,\n      validate: row => required(row.city)\n    },\n    {\n      title: t('counterparties.phoneNumber'),\n      field: 'phoneNumber',\n      width: 190,\n      validate: row => validate('phoneNumber', row.phoneNumber, false)\n    }\n  ];\n\n  const editableConfig = {\n    createAction: createCounterparty,\n    updateAction: updateCounterparty,\n    deleteAction: deleteCounterparty\n  };\n\n  return { columns, editableConfig };\n};\n\nexport default useConfig;\n","import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport DataTable from '../../common/DataTable';\nimport ErrorDialog from '../../common/ErrorDialog';\nimport { getCounterparties, setError } from '../../../slices/counterpartySlice';\nimport useConfig from './config';\n\nconst Counterparties = () => {\n  const { t } = useTranslation();\n\n  const dispatch = useDispatch();\n\n  const counterparties = useSelector(state => state.counterparty.counterpartyData);\n\n  const actionPending = useSelector(state => state.counterparty.actionPending);\n\n  const error = useSelector(state => state.counterparty.error);\n\n  const { columns, editableConfig } = useConfig();\n\n  useEffect(() => {\n    dispatch(getCounterparties());\n    // eslint-disable-next-line\n  }, []);\n\n  return (\n    <>\n      <ErrorDialog error={error} clearAction={setError} />\n      <DataTable\n        title={t('counterparties.title')}\n        isLoading={actionPending}\n        data={counterparties}\n        columns={columns}\n        editableConfig={editableConfig}\n      />\n    </>\n  );\n};\n\nexport default Counterparties;\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport webInvoicerApi from '../apis/webInvoicerApi';\nimport apiHandler from '../apis/apiHandler';\n\nconst initialState = {\n  actionPending: false,\n  error: null,\n  employeeData: []\n};\n\nexport const createEmployee = createAsyncThunk(\n  'employee/create',\n  async (employee, { dispatch }) => {\n    return await handleAction(\n      {\n        method: () => webInvoicerApi().post('Employees', employee),\n        errorData: 'create'\n      },\n      dispatch\n    );\n  }\n);\n\nexport const getEmployees = createAsyncThunk('employee/get', async (_, { dispatch }) => {\n  return await handleAction(\n    {\n      method: () => webInvoicerApi().get('Employees'),\n      errorData: 'get'\n    },\n    dispatch\n  );\n});\n\nexport const updateEmployee = createAsyncThunk(\n  'employee/update',\n  async (employee, { dispatch }) => {\n    return await handleAction(\n      {\n        method: () => webInvoicerApi().put('Employees', employee),\n        errorData: 'update'\n      },\n      dispatch\n    );\n  }\n);\n\nexport const deleteEmployee = createAsyncThunk('employee/delete', async (id, { dispatch }) => {\n  await handleAction(\n    {\n      method: () => webInvoicerApi().delete(`Employees/${id}`),\n      errorData: 'delete'\n    },\n    dispatch\n  );\n\n  return id;\n});\n\nconst handleAction = async ({ method, errorData }, dispatch) => {\n  dispatch(setActionPending(true));\n  const response = await apiHandler(method(), errorData);\n  dispatch(setActionPending(false));\n\n  if (response.type === 'ERROR') {\n    dispatch(setError(response.data));\n    throw new Error(response.data);\n  }\n  return response.data;\n};\n\nconst employeeSlice = createSlice({\n  name: 'employee',\n  initialState,\n  reducers: {\n    setActionPending(state, action) {\n      state.actionPending = action.payload;\n    },\n    setError(state, action) {\n      state.error = action.payload;\n    }\n  },\n  extraReducers: {\n    [createEmployee.fulfilled]: (state, action) => {\n      state.employeeData.push(action.payload);\n    },\n    [getEmployees.fulfilled]: (state, action) => {\n      state.employeeData = action.payload;\n    },\n    [updateEmployee.fulfilled]: (state, action) => {\n      const index = state.employeeData.findIndex(x => x.id === action.payload.id);\n      state.employeeData[index] = action.payload;\n    },\n    [deleteEmployee.fulfilled]: (state, action) => {\n      state.employeeData = state.employeeData.filter(x => x.id !== action.payload);\n    }\n  }\n});\n\nexport const { setActionPending, setError } = employeeSlice.actions;\n\nexport default employeeSlice.reducer;\n","import { useTranslation } from 'react-i18next';\nimport { createEmployee, deleteEmployee, updateEmployee } from '../../../slices/employeeSlice';\nimport useValidation from '../../../hooks/useValidation';\n\nconst useConfig = () => {\n  const { t } = useTranslation();\n\n  const { required, validate } = useValidation();\n\n  const columns = [\n    {\n      title: t('employees.fullName'),\n      field: 'fullName',\n      width: 190,\n      validate: row => required(row.fullName)\n    },\n    {\n      title: t('employees.phoneNumber'),\n      field: 'phoneNumber',\n      width: 190,\n      validate: row => validate('phoneNumber', row.phoneNumber, true)\n    },\n    {\n      title: t('employees.dateAdded'),\n      field: 'dateAdded',\n      width: 190,\n      type: 'datetime',\n      editable: 'never'\n    }\n  ];\n\n  const editableConfig = {\n    createAction: createEmployee,\n    updateAction: updateEmployee,\n    deleteAction: deleteEmployee\n  };\n\n  return { columns, editableConfig };\n};\n\nexport default useConfig;\n","import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport DataTable from '../../common/DataTable';\nimport ErrorDialog from '../../common/ErrorDialog';\nimport { getEmployees, setError } from '../../../slices/employeeSlice';\nimport useConfig from './config';\n\nconst Employees = () => {\n  const { t } = useTranslation();\n\n  const dispatch = useDispatch();\n\n  const employees = useSelector(state => state.employee.employeeData);\n\n  const actionPending = useSelector(state => state.employee.actionPending);\n\n  const error = useSelector(state => state.employee.error);\n\n  const { columns, editableConfig } = useConfig();\n\n  useEffect(() => {\n    dispatch(getEmployees());\n    // eslint-disable-next-line\n  }, []);\n\n  return (\n    <>\n      <ErrorDialog error={error} clearAction={setError} />\n      <DataTable\n        title={t('employees.title')}\n        isLoading={actionPending}\n        data={employees}\n        columns={columns}\n        editableConfig={editableConfig}\n      />\n    </>\n  );\n};\n\nexport default Employees;\n","import React from 'react';\n\nconst DataVisualization = () => {\n  return <div></div>;\n};\n\nexport default DataVisualization;\n","import React from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport PrivateRoute from './common/PrivateRoute';\nimport Home from './pages/Home';\nimport Invoices from './pages/Invoices';\nimport Products from './pages/Products';\nimport Counterparties from './pages/Counterparties';\nimport Employees from './pages/Employees';\nimport DataVisualization from './pages/DataVisualization';\nimport NotFound from './pages/NotFound';\n\nconst Routes = () => {\n  const validHomePaths = [\n    '/',\n    '/login',\n    '/register',\n    '/resetPassword',\n    '/changePassword',\n    '/confirmEmail'\n  ];\n\n  return (\n    <Switch>\n      <Route exact path={validHomePaths} component={Home} />\n      <PrivateRoute path='/invoices' component={Invoices} />\n      <PrivateRoute exact path='/products' component={Products} />\n      <PrivateRoute exact path='/counterparties' component={Counterparties} />\n      <PrivateRoute exact path='/employees' component={Employees} />\n      <PrivateRoute exact path='/dataVisualization' component={DataVisualization} />\n      <Route component={NotFound} />\n    </Switch>\n  );\n};\n\nexport default Routes;\n","import React, { Suspense } from 'react';\nimport { useSelector } from 'react-redux';\nimport { Container, createMuiTheme, CssBaseline, ThemeProvider, Toolbar } from '@material-ui/core';\nimport Navigation from './components/layout/Navigation';\nimport SuspenseLoading from './components/SuspenseLoading';\nimport Routes from './components/Routes';\nimport lightTheme from './styles/lightTheme.json';\nimport darkTheme from './styles/darkTheme.json';\n\nconst App = () => {\n  const isLoggedIn = useSelector(state => state.user.isLoggedIn);\n\n  const theme = useSelector(state => state.app.theme);\n\n  const muiTheme = createMuiTheme(theme === 'light' ? lightTheme : darkTheme);\n\n  return (\n    <ThemeProvider theme={muiTheme}>\n      <CssBaseline />\n      <Suspense fallback={<SuspenseLoading />}>\n        <Navigation />\n        <Container {...(isLoggedIn && { className: 'logged-in-container' })}>\n          <Toolbar />\n          <Routes />\n        </Container>\n      </Suspense>\n    </ThemeProvider>\n  );\n};\n\nexport default App;\n","import { combineReducers, configureStore } from '@reduxjs/toolkit';\nimport appReducer from './slices/appSlice';\nimport userReducer from './slices/userSlice';\nimport invoiceReducer from './slices/invoiceSlice';\nimport counterpartyReducer from './slices/counterpartySlice';\nimport employeeReducer from './slices/employeeSlice';\nimport productReducer from './slices/productSlice';\n\nconst combinedReducer = combineReducers({\n  app: appReducer,\n  user: userReducer,\n  invoice: invoiceReducer,\n  counterparty: counterpartyReducer,\n  employee: employeeReducer,\n  product: productReducer\n});\n\nconst rootReducer = (state, action) => {\n  if (action.type === 'user/logout') {\n    state = undefined;\n  }\n\n  return combinedReducer(state, action);\n};\n\nexport default configureStore({\n  reducer: rootReducer\n});\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter as Router } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport './i18n';\nimport App from './App';\nimport store from './store';\nimport './styles/styles.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <Provider store={store}>\n        <App />\n      </Provider>\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}